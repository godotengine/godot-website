<footer>
  <div class="wrapper flex footer-container">
    <div id="copyright">
      <p>
        {{ T "partials.footer.copyRightText" (dict
        "year" time.Now.Year
        "linkOpen" "<a href='https://github.com/godotengine/godot/blob/master/AUTHORS.md' target='_blank' rel='noopener'>"
        "linkClose" "</a>") | safeHTML
        }}
        <br>
        {{ T "partials.footer.hostedByTheGodotFoundation" (dict
        "linkOpen" "<a href='https://godot.foundation/' target='_blank' rel='noopener'>"
        "linkClose" "</a>") | safeHTML
        }}
        <br>
        {{ T "partials.footer.websiteSourceCodeOnGithub" (dict
        "linkOpen" "<a href='https://github.com/godotengine/godot-website' target='_blank' rel='noopener'>"
        "linkClose" "</a>") | safeHTML
        }}
      </p>
    </div>
    <div id="sitemap">
      <ul class="sitemap-group">
        <li><strong>{{ T "partials.footer.getGodot.titleText" }}</strong></li>
        <li><a href="{{ relLangURL "download/windows/" }}"
               class="set-os-download-url">{{ T "partials.footer.getGodot.download" }}</a></li>
        <li><a href="https://editor.godotengine.org/releases/latest/">{{ T "common.webEditor" }}</a></li>
        <li>&nbsp;</li>
        <li><strong>{{ T "partials.footer.publicRelations.titleText" }}</strong></li>
        <li><a href="{{ relLangURL "blog/" }}">{{ T "common.blog" }}</a></li>
        <li>
          <a href="{{ relLangURL "community/" }}">{{ T "partials.footer.publicRelations.communitiesAndEvents" }}</a>
        </li>
        <li><a href="{{ relLangURL "press/" }}">{{ T "partials.footer.publicRelations.pressKit" }}</a></li>
      </ul>
      <ul class="sitemap-group">
        <li><strong>{{ T "partials.footer.aboutGodot.titleText" }}</strong></li>
        <li><a href="{{ relLangURL "features/" }}">{{ T "common.features" }}</a></li>
        <li><a href="{{ relLangURL "showcase/" }}">{{ T "common.showcase" }}</a></li>
        <li><a href="{{ relLangURL "education/" }}">{{ T "partials.footer.aboutGodot.education" }}</a></li>
        <li><a href="{{ relLangURL "license/" }}">{{ T "partials.footer.aboutGodot.license" }}</a></li>
        <li><a href="{{ relLangURL "code-of-conduct/" }}">{{ T "partials.footer.aboutGodot.codeOfConduct" }}</a>
        </li>
        <li><a href="{{ relLangURL "privacy-policy/" }}">{{ T "partials.footer.aboutGodot.privacyPolicy" }}</a>
        </li>
        <li><a href="https://fund.godotengine.org">{{ T "common.donate" }}</a></li>
      </ul>
      <ul class="sitemap-group">
        <li><strong>{{ T "partials.footer.projectTeam.titleText" }}</strong></li>
        <li><a href="{{ relLangURL "governance/" }}">{{ T "partials.footer.projectTeam.governance" }}</a></li>
        <li><a href="{{ relLangURL "teams/" }}">{{ T "partials.footer.projectTeam.teams" }}</a></li>
        <li>&nbsp;</li>
        <li><strong>{{ T "partials.footer.extraResources.titleText" }}</strong></li>
        <li>
          <a
            href="https://godotengine.org/asset-library/asset">{{ T "partials.footer.extraResources.assetLibrary" }}</a>
        </li>
        <li><a href="https://docs.godotengine.org">{{ T "partials.footer.extraResources.documentation" }}</a>
        </li>
        <li><a href="https://github.com/godotengine">{{ T "partials.footer.extraResources.codeRepository" }}</a>
        </li>
      </ul>
    </div>
    <div id="social" class="dark-desaturate">
      <h4 class="text-right"><a href="{{ relLangURL "contact/" }}">Contact us</a></h4>
      <div class="flex justify-space-between" style="gap: 3px;">
        <a href="https://github.com/godotengine" target="_blank" rel="noopener">
          <img src="/assets/footer/github_logo.svg" width="32" height="32" alt="GitHub" fetchpriority="low">
        </a>
        <a href="https://mastodon.gamedev.place/@godotengine" target="_blank" rel="noopener">
          <img src="/assets/footer/mastodon_logo.svg" width="32" height="32" alt="Mastodon"
               fetchpriority="low">
        </a>
        <a href="https://twitter.com/godotengine" target="_blank" rel="noopener">
          <img src="/assets/footer/twitter_logo.svg" width="32" height="32" alt="Twitter" fetchpriority="low">
        </a>
        <a href="https://www.facebook.com/groups/godotengine/" target="_blank" rel="noopener">
          <img src="/assets/footer/facebook_logo.svg" width="32" height="32" alt="Facebook"
               fetchpriority="low">
        </a>
        <a href="https://www.reddit.com/r/godot" target="_blank" rel="noopener">
          <!-- Zero-width space in the `alt` text to prevent content blockers from blocking the icon -->
          <img src="/assets/footer/reddit_logo.svg" width="32" height="32" alt="Redâ€‹dit" fetchpriority="low">
        </a>
        <a href="/rss.xml" target="_blank" rel="noopener">
          <!-- Icon is called `feed` instead of `rss` to prevent content blockers from blocking the icon -->
          <img src="/assets/footer/feed_logo.svg" width="32" height="32" alt="RSS feed" fetchpriority="low">
        </a>
      </div>
    </div>
  </div>
</footer>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const before48Hours = (Date.now() - 1000 * 60 * 60 * 48);
    document.querySelectorAll('[data-post-date]').forEach((postDate) => {
      // Highlight post dates that are less than 48 hours old.
      if (Date.parse(postDate.dataset.postDate) > before48Hours) {
        postDate.classList.add("post-recent-highlight");
      }
    });

    const godot3WindowsUrl = "{{ relLangURL "download/3.x/windows/" }}";
    const godot3MacosUrl = "{{ relLangURL "download/3.x/macos/" }}";
    const godot3LinuxUrl = "{{ relLangURL "download/3.x/linux/" }}";

    const godot4WindowsUrl = "{{ relLangURL "download/windows/" }}";
    const godot4MacosUrl = "{{ relLangURL "download/macos/" }}";
    const godot4LinuxUrl = "{{ relLangURL "download/linux/" }}";

    const platformName = (navigator?.userAgentData?.platform ?? navigator?.platform).toLowerCase();
    let platform = 'windows';
    if (platformName.includes('mac')) {
      platform = 'mac';
    } else if (platformName.includes('linux')) {
      platform = 'linux';
    }

    // Update any download link to point to identified user's OS.
    const links = document.querySelectorAll('.set-os-download-url');
    links.forEach((link) => {
      const isVersion3 = link.dataset['version'] === '3';
      switch (platform) {
        case 'windows':
          link.href = isVersion3 ? godot3WindowsUrl : godot4WindowsUrl;
          break;
        case 'mac':
          link.href = isVersion3 ? godot3MacosUrl : godot4MacosUrl;
          break;
        case 'linux':
          link.href = isVersion3 ? godot3LinuxUrl : godot4LinuxUrl;
          break;
      }
    })
  });
</script>
