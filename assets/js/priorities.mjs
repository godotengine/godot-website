import{animate}from"./modules/anime@4.0.2_esm.min.js";function addBlankTargetToElementLinks(){for(const e of document.querySelectorAll(".element-content a")){if(!(e instanceof HTMLAnchorElement))continue;e.target="_blank"}}function setupScrollToTop(){const s=document.querySelector("#priorities-navigation"),t=document.querySelector("#scroll-to-top");let e=null,n="";const i=()=>{if(n==="show")return;n="show",e!=null&&e.cancel(),t.style.display="block",e=animate(t,{opacity:{to:1},duration:500})},o=()=>{if(n==="hide")return;n="hide",e!=null&&e.cancel(),e=animate(t,{opacity:{to:0},duration:500,onComplete:()=>{t.style.display="none"}})},a=new IntersectionObserver((e)=>{const n=e[0];if(n.isIntersecting)o();else{const e=s.getBoundingClientRect();e.y>window.innerHeight?o():i()}});a.observe(s)}function openDetailsSelectedInUrl(){if(window.location.hash==="")return;const e=document.querySelector(`${window.location.hash} details.element-main`);if(e==null)return;e.open=!0}function handleNavigateEvent(){if(!("Navigation"in window)){handleHashChangeEvent();return}navigation.addEventListener("navigate",e=>{const n=new URL(e.destination.url),t=document.querySelector(`${n.hash} details.element-main`);if(t==null)return;t.open=!0})}function handleHashChangeEvent(){window.addEventListener("hashchange",()=>{const e=document.querySelector(`${window.location.hash} details.element-main`);if(e==null)return;e.open=!0})}function animateDetailsTag(){const e=document.querySelector(".priorities-container");if(!(e instanceof HTMLElement))throw new Error("Couldn't find .priorities-container");const t=e=>{let t=e.target;for(;!0;){if(!(t instanceof HTMLElement))return;if(t instanceof HTMLDetailsElement)break;t=t.parentElement}t.classList.remove("opening")},n=new MutationObserver((e)=>{for(const s of e){const n=s.target;if(!(n instanceof HTMLDetailsElement))continue;s.attributeName==="open"&&(n.removeEventListener("animationend",t),n.open?(n.classList.add("opening"),n.addEventListener("animationend",t)):n.classList.remove("opening"))}});n.observe(e,{attributes:!0,subtree:!0})}function main(){addBlankTargetToElementLinks(),setupScrollToTop(),openDetailsSelectedInUrl(),handleNavigateEvent(),animateDetailsTag()}main()