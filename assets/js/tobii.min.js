/*!
 * @midzer/tobii 3.0.0
 * Licensed under the MIT license.
 * https://midzer.github.io/tobii/demo/
 */

!function(){class t{constructor(){this.figcaptionId=0,this.userSettings=null}init(t,e,i){this.userSettings=i;const n=document.createElement("figure"),r=document.createElement("img"),a=t.querySelector("img"),s=document.createElement("div");let o;if(n.tabIndex=-1,n.setAttribute("role","group"),n.style.opacity="0",a&&(r.alt=a.alt||""),r.setAttribute("data-src",t.href),t.hasAttribute("data-srcset")&&r.setAttribute("data-srcset",t.getAttribute("data-srcset")),t.hasAttribute("data-sizes")&&r.setAttribute("data-sizes",t.getAttribute("data-sizes")),n.appendChild(r),"function"==typeof this.userSettings.captionText?o=this.userSettings.captionText(t):"self"===this.userSettings.captionsSelector&&t.getAttribute(this.userSettings.captionAttribute)?o=t.getAttribute(this.userSettings.captionAttribute):"img"===this.userSettings.captionsSelector&&a&&a.getAttribute(this.userSettings.captionAttribute)&&(o=a.getAttribute(this.userSettings.captionAttribute)),this.userSettings.captions&&o){const t=document.createElement("figcaption");t.id=`tobii-figcaption-${this.figcaptionId}`;const e=document.createElement("span");if(this.userSettings.captionHTML?e.innerHTML=o:e.textContent=o,t.appendChild(e),this.userSettings.captionToggle){const i=document.createElement("button");i.className="caption-toggle",i.textContent=i.title=this.userSettings.captionToggleLabel[0],i.setAttribute("aria-controls",t.id),i.setAttribute("aria-expanded",!0);const n=t=>{t.preventDefault(),t.stopPropagation()};i.addEventListener("pointerdown",t=>n(t)),i.addEventListener("pointerup",t=>n(t)),i.addEventListener("click",t=>{n(t);const r="true"===i.getAttribute("aria-expanded");i.textContent=i.title=r?this.userSettings.captionToggleLabel[1]:this.userSettings.captionToggleLabel[0],i.setAttribute("aria-expanded",!r),e.setAttribute("aria-hidden",r)}),t.appendChild(i)}n.appendChild(t),r.setAttribute("aria-labelledby",t.id),n.setAttribute("aria-label",e.textContent),++this.figcaptionId}e.appendChild(n),s.className="tobii__loader",s.setAttribute("role","progressbar"),s.setAttribute("aria-label",this.userSettings.loadingIndicatorLabel),e.appendChild(s),e.setAttribute("data-type","image"),e.classList.add("tobii-image")}onPreload(t){this.onLoad(t)}onLoad(t){const e=t.querySelector("img");if(!e.hasAttribute("data-src"))return;const i=t.querySelector("figure"),n=t.querySelector(".tobii__loader"),r=()=>{t.removeChild(n),i.style.opacity="1"};e.addEventListener("load",r),e.addEventListener("error",r),e.hasAttribute("data-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-srcset")),e.removeAttribute("data-srcset")),e.hasAttribute("data-sizes")&&(e.setAttribute("sizes",e.getAttribute("data-sizes")),e.removeAttribute("data-sizes")),e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src")}onLeave(t){}onCleanup(t){}onReset(){this.figcaptionId=0}}class e{constructor(){this.userSettings=null}init(t,e,i){this.userSettings=i;const n=t.hasAttribute("data-target")?t.getAttribute("data-target"):t.getAttribute("href");e.setAttribute("data-HREF",n),t.getAttribute("data-allow")&&e.setAttribute("data-allow",t.getAttribute("data-allow")),t.hasAttribute("data-width")&&e.setAttribute("data-width",`${t.getAttribute("data-width")}`),t.hasAttribute("data-height")&&e.setAttribute("data-height",`${t.getAttribute("data-height")}`),e.setAttribute("data-type","iframe"),e.classList.add("tobii-iframe")}onPreload(t){}onLoad(t){let e=t.querySelector("iframe");const i=document.createElement("div");if(i.className="tobii__loader",i.setAttribute("role","progressbar"),i.setAttribute("aria-label",this.userSettings.loadingIndicatorLabel),t.appendChild(i),null==e){e=document.createElement("iframe");const i=t.getAttribute("data-href");e.setAttribute("frameborder","0"),e.setAttribute("src",i),e.setAttribute("allowfullscreen",""),i.indexOf("youtube.com")>-1?e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"):i.indexOf("vimeo.com")>-1?e.setAttribute("allow","autoplay; picture-in-picture"):t.hasAttribute("data-allow")&&e.setAttribute("allow",t.getAttribute("data-allow")),t.getAttribute("data-width")&&(e.style.maxWidth=`${t.getAttribute("data-width")}`),t.getAttribute("data-height")&&(e.style.maxHeight=`${t.getAttribute("data-height")}`),e.style.opacity="0",t.appendChild(e),e.addEventListener("load",()=>{e.style.opacity="1";const i=t.querySelector(".tobii__loader");i&&t.removeChild(i)}),e.addEventListener("error",()=>{e.style.opacity="1";const i=t.querySelector(".tobii__loader");i&&t.removeChild(i)})}else e.setAttribute("src",t.getAttribute("data-href"))}onLeave(t){}onCleanup(t){const e=t.querySelector("iframe");e.setAttribute("src",""),e.style.opacity="0"}onReset(){}}class i{constructor(){this.userSettings=null}init(t,e,i){this.userSettings=i;const n=t.hasAttribute("data-target")?t.getAttribute("data-target"):t.getAttribute("href"),r=document.querySelector(n).cloneNode(!0);if(!r)throw new Error(`Ups, I can't find the target ${n}.`);e.appendChild(r),e.setAttribute("data-type","html"),e.classList.add("tobii-html")}onPreload(t){}onLoad(t,e){const i=t.querySelector("video");i&&(i.hasAttribute("data-time")&&i.readyState>0&&(i.currentTime=i.getAttribute("data-time")),i.play());const n=t.querySelector("audio");n&&n.play(),t.classList.add("tobii-group-"+e)}onLeave(t){const e=t.querySelector("video");e&&(e.paused||e.pause(),e.readyState>0&&e.setAttribute("data-time",e.currentTime));const i=t.querySelector("audio");i&&(i.paused||i.pause())}onCleanup(t){const e=t.querySelector("video");if(e&&e.readyState>0&&e.readyState<3&&e.duration!==e.currentTime){const i=e.cloneNode(!0);this._removeSources(e),e.load(),e.parentNode.removeChild(e),t.appendChild(i)}}onReset(){}_removeSources(t){const e=t.querySelectorAll("src");e&&e.forEach(t=>{t.setAttribute("src","")})}}class n{constructor(){this.playerId=0,this.PLAYER=[],this.userSettings=null}init(t,e,i){this.userSettings=i;const n=document.createElement("div");e.appendChild(n),this.PLAYER[this.playerId]=new window.YT.Player(n,{host:"https://www.youtube-nocookie.com",height:t.getAttribute("data-height")||"360",width:t.getAttribute("data-width")||"640",videoId:t.getAttribute("data-id"),playerVars:{controls:t.getAttribute("data-controls")||1,rel:0,playsinline:1}}),e.setAttribute("data-player",this.playerId),e.setAttribute("data-type","youtube"),e.classList.add("tobii-youtube"),this.playerId++}onPreload(t){}onLoad(t){this.PLAYER[t.getAttribute("data-player")].playVideo()}onLeave(t){1===this.PLAYER[t.getAttribute("data-player")].getPlayerState()&&this.PLAYER[t.getAttribute("data-player")].pauseVideo()}onCleanup(t){1===this.PLAYER[t.getAttribute("data-player")].getPlayerState()&&this.PLAYER[t.getAttribute("data-player")].pauseVideo()}onReset(){}}function r(a){const s={image:new t,html:new i,iframe:new e,youtube:new n},o=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'];let l={};const d=[],c={gallery:[],slider:null,sliderElements:[],elementsLength:0,currentIndex:0,x:0};let u=null,p=null,b=null,g=null,h=null,m=null,f=null,y=!1,w={},v=null,A=[],x=0;const E={element:null,originX:0,originY:0,translateX:0,translateY:0,scale:1},L={startX:0,startY:0,x:0,y:0,distance:0},I=t=>{if(null===document.querySelector('[data-type="youtube"]')||y)S(t);else{if(null===document.getElementById("iframe_api")){const t=document.createElement("script"),e=document.getElementsByTagName("script")[0];t.id="iframe_api",t.src="https://www.youtube.com/iframe_api",e.parentNode.insertBefore(t,e)}-1===d.indexOf(t)&&d.push(t),window.onYouTubePlayerAPIReady=()=>{d.forEach(t=>{S(t)}),y=!0}}},_=t=>t.hasAttribute("data-group")?t.getAttribute("data-group"):"default",S=t=>{const e=_(t);if(Object.prototype.hasOwnProperty.call(w,e)||(w[e]=JSON.parse(JSON.stringify(c)),w[e].slider=document.createElement("div"),w[e].slider.className="tobii__slider",w[e].slider.setAttribute("aria-hidden","true"),u.appendChild(w[e].slider)),-1!==w[e].gallery.indexOf(t))throw new Error("Ups, element already added.");{if(w[e].gallery.push(t),w[e].elementsLength++,l.zoom&&t.querySelector("img")&&"false"!==t.getAttribute("data-zoom")||"true"===t.getAttribute("data-zoom")){const e=document.createElement("div");e.className="tobii-zoom__icon",e.innerHTML=l.zoomText,t.classList.add("tobii-zoom"),t.appendChild(e)}t.addEventListener("click",k);const i=document.createElement("div"),n=document.createElement("div");i.className="tobii__slide",i.style.position="absolute",i.style.left=100*w[e].x+"%",i.setAttribute("aria-hidden","true"),T(t).init(t,n,l),i.appendChild(n),w[e].slider.appendChild(i),w[e].sliderElements.push(i),++w[e].x,dt()&&e===v&&(st(),ot())}},C=t=>{const e=_(t);if(-1===w[e].gallery.indexOf(t))throw new Error(`Ups, I can't find a slide for the element ${t}.`);{const i=w[e].gallery.indexOf(t),n=w[e].sliderElements[i];if(dt()&&e===v&&i===w[e].currentIndex){if(1===w[e].elementsLength)throw X(),new Error("Ups, I've closed. There are no slides more to show.");0===w[e].currentIndex?z():M(),st(),ot()}if(w[e].gallery.splice(w[e].gallery.indexOf(t)),w[e].sliderElements.splice(w[e].gallery.indexOf(t)),w[e].elementsLength--,--w[e].x,l.zoom&&t.querySelector(".tobii-zoom__icon")){const e=t.querySelector(".tobii-zoom__icon");e.parentNode.classList.remove("tobii-zoom"),e.parentNode.removeChild(e)}t.removeEventListener("click",k),n.parentNode.removeChild(n)}},T=t=>{const e=t.getAttribute("data-type");return void 0!==s[e]?s[e]:(t.hasAttribute("data-type")&&console.log("Unknown lightbox element type: "+e),s.image)},Y=(t=0)=>{if(dt())throw new Error("Ups, I'm aleady open.");if(-1===t||t>=w[v].elementsLength)throw new Error(`Ups, I can't find slide ${t}.`);document.documentElement.classList.add("tobii-is-open"),document.body.classList.add("tobii-is-open"),document.body.classList.add("tobii-is-open-"+v),st(),l.close||(g.disabled=!1,g.setAttribute("aria-hidden","true")),m=document.activeElement;const e=window.location.href;window.history.pushState({tobii:"close"},"Image",e),w[v].currentIndex=t,rt(),q(w[v].currentIndex),w[v].slider.setAttribute("aria-hidden","false"),u.setAttribute("aria-hidden","false"),ot(),N(w[v].currentIndex+1),N(w[v].currentIndex-1),w[v].slider.classList.add("tobii__slider--animate");const i=new window.CustomEvent("open",{detail:{group:v}});u.dispatchEvent(i)},X=()=>{if(!dt())throw new Error("Ups, I'm already closed.");document.documentElement.classList.remove("tobii-is-open"),document.body.classList.remove("tobii-is-open"),document.body.classList.remove("tobii-is-open-"+v),at(),null!==window.history.state&&"close"===window.history.state.tobii&&window.history.back(),m.focus(),$(w[v].currentIndex),O(w[v].currentIndex),u.setAttribute("aria-hidden","true"),w[v].slider.setAttribute("aria-hidden","true"),w[v].currentIndex=0,w[v].slider.classList.remove("tobii__slider--animate");const t=new window.CustomEvent("close",{detail:{group:v}});u.dispatchEvent(t)},N=t=>{if(void 0===w[v].sliderElements[t])return;const e=w[v].sliderElements[t].querySelector("[data-type]");T(e).onPreload(e)},q=t=>{if(void 0===w[v].sliderElements[t])return;const e=w[v].sliderElements[t].querySelector("[data-type]"),i=T(e);w[v].sliderElements[t].classList.add("tobii__slide--is-active"),w[v].sliderElements[t].setAttribute("aria-hidden","false"),i.onLoad(e,v)},M=()=>{if(!dt())throw new Error("Ups, I'm closed.");w[v].currentIndex>0&&($(w[v].currentIndex),q(--w[v].currentIndex),ot("left"),O(w[v].currentIndex+1),N(w[v].currentIndex-1));const t=new window.CustomEvent("previous",{detail:{group:v}});u.dispatchEvent(t)},z=()=>{if(!dt())throw new Error("Ups, I'm closed.");w[v].currentIndex<w[v].elementsLength-1&&($(w[v].currentIndex),q(++w[v].currentIndex),ot("right"),O(w[v].currentIndex-1),N(w[v].currentIndex+1));const t=new window.CustomEvent("next",{detail:{group:v}});u.dispatchEvent(t)},P=t=>{if(dt())throw new Error("Ups, I'm open.");if(!t)throw new Error("Ups, no group specified.");if(t&&!Object.prototype.hasOwnProperty.call(w,t))throw new Error(`Ups, I don't have a group called "${t}".`);v=t},$=t=>{if(void 0===w[v].sliderElements[t])return;const e=w[v].sliderElements[t].querySelector("[data-type]"),i=T(e);w[v].sliderElements[t].classList.remove("tobii__slide--is-active"),w[v].sliderElements[t].setAttribute("aria-hidden","true"),i.onLeave(e)},O=t=>{if(void 0===w[v].sliderElements[t])return;const e=w[v].sliderElements[t].querySelector("[data-type]");T(e).onCleanup(e),L.startX=0,L.startY=0,L.x=0,L.y=0,L.distance=0,x=0,Q()&&nt(),E.element=null},R=()=>{f=-w[v].currentIndex*u.offsetWidth,w[v].slider.style.transform=`translate(${f}px, 0)`},U=()=>{R()},k=t=>{t.preventDefault(),v=_(t.currentTarget),Y(w[v].gallery.indexOf(t.currentTarget))},H=t=>{t.target===p?M():t.target===b?z():(t.target===g||t.target.classList.contains("tobii__slide")||t.target.classList.contains("tobii")&&l.docClose)&&X(),t.stopPropagation()},D=(t,e,i)=>{t.setAttribute("aria-hidden",e?"true":"false"),t.disabled=i},B=t=>{const e=Array.prototype.slice.call(u.querySelectorAll(`.tobii__btn:not([disabled]), .tobii__slide--is-active ${o.join(", .tobii__slide--is-active ")}`)).filter(t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),i=e.indexOf(document.activeElement);"Tab"===t.code?t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1&&-1!==i||(e[0].focus(),t.preventDefault()):"Escape"===t.code?(t.preventDefault(),X()):"ArrowLeft"===t.code?(t.preventDefault(),M()):"ArrowRight"===t.code&&(t.preventDefault(),z())},j=()=>{A=[],R(),w[v].slider.classList.remove("tobii__slider--is-"+(Q()?"moving":"dragging"))},V=t=>{if(!ut(t.target)&&(t.preventDefault(),t.stopPropagation(),L.startX=L.x=t.clientX,L.startY=L.y=t.clientY,L.distance=0,A.push(t),2===A.length)){const{x:t,y:e}=it(A[0].clientX,A[0].clientY,A[1].clientX,A[1].clientY);L.startX=L.x=t,L.startY=L.y=e,L.distance=et(A[0].clientX-A[1].clientX,A[0].clientY-A[1].clientY)/E.scale}},W=t=>{if(!A.length)return;w[v].slider.classList.add("tobii__slider--is-"+(Q()?"moving":"dragging"));const e=A.findIndex(e=>e.pointerId===t.pointerId);if(A[e]=t,2===A.length){const{x:e,y:i}=it(A[0].clientX,A[0].clientY,A[1].clientX,A[1].clientY),n=et(A[0].clientX-A[1].clientX,A[0].clientY-A[1].clientY)/L.distance;return tt(t.target,F(n,1,4),e,i,e-L.x,i-L.y),L.x=e,void(L.y=i)}if(Q()&&Z(t.clientX-L.x,t.clientY-L.y),L.x=t.clientX,L.y=t.clientY,!Q()){const t=L.startX-L.x,e=L.startY-L.y;if(et(t,e)<10)return;Math.abs(t)>Math.abs(e)&&w[v].elementsLength>1?w[v].slider.style.transform=`translate(${f-Math.round(t)}px, 0)`:l.swipeClose&&(w[v].slider.style.transform=`translate(${f}px, -${Math.round(e)}px)`)}},G=t=>{if(!A.length)return;w[v].slider.classList.remove("tobii__slider--is-"+(Q()?"moving":"dragging"));const e=A.findIndex(e=>e.pointerId===t.pointerId);A.splice(e,1);const i=t.clientX,n=t.clientY,r=L.startX-i,a=L.startY-n,s=Math.abs(r),o=Math.abs(a);if(s>8||o>8)Q()||(r<0&&s>l.threshold&&w[v].currentIndex>0?M():r>0&&s>l.threshold&&w[v].currentIndex!==w[v].elementsLength-1?z():a>0&&o>l.threshold&&l.swipeClose?X():R());else{const e=Date.now(),r=e-x;r<500&&r>100?(t.preventDefault(),x=0,Q()?nt():tt(t.target,2,i,n,0,0)):(x=e,ct()&&window.setTimeout(()=>{const{left:e,top:r,bottom:a,right:s,width:o}=t.target.getBoundingClientRect();n<r||n>a||!x||(i>e&&i<e+o/2?M():i<s&&i>s-o/2&&z())},500))}},J=t=>{const e=Math.sign(t.deltaY)>0?-1:1;(Q()||e)&&(t.preventDefault(),tt(t.target,F(E.scale+e/(10/E.scale),1,4),t.clientX,t.clientY,0,0))},K=(t,e)=>{const{element:i,scale:n,originX:r,originY:a}=E,s="x"===t,o=s?r:a,l=s?"offsetWidth":"offsetHeight",d=i.parentNode[l],c=i[l],u=i.getBoundingClientRect(),p=(o-c/2)*(n-1),b=Math.max(0,Math.round(s?u.width:u.height)-d),g=Math.round(b/2);return F(e,0-g+p,g+p)},F=(t,e,i)=>Math.max(Math.min(t,i),e),Q=()=>1!==E.scale,Z=(t,e)=>{0!==t&&(E.translateX=K("x",E.translateX+t)),0!==e&&(E.translateY=K("y",E.translateY+e));const{element:i,originX:n,originY:r,translateX:a,translateY:s,scale:o}=E;i.style.transformOrigin=`${n}px ${r}px`,i.style.transform=`translate(${a}px, ${s}px) scale(${o})`},tt=(t,e,i,n,r,a)=>{if("IMG"!==t.tagName)return;const{left:s,top:o}=t.getBoundingClientRect(),l=(i-s)/E.scale,d=(n-o)/E.scale;E.element=t,E.originX=l,E.originY=d,E.scale=e,Z(r,a)},et=(t,e)=>Math.hypot(t,e),it=(t,e,i,n)=>({x:(t+i)/2,y:(e+n)/2}),nt=()=>{E.scale=1,E.originX=0,E.originY=0,E.translateX=0,E.translateY=0,Z(0,0)},rt=()=>{l.keyboard&&window.addEventListener("keydown",B),window.addEventListener("resize",U),window.addEventListener("popstate",X),pt("click",H),l.draggable&&(pt("pointerdown",V),pt("pointermove",W),pt("pointerup",G),pt("pointercancel",j),pt("pointerout",j),pt("pointerleave",j),pt("contextmenu",j)),pt("wheel",J)},at=()=>{l.keyboard&&window.removeEventListener("keydown",B),window.removeEventListener("resize",U),window.removeEventListener("popstate",X),bt("click",H),l.draggable&&(bt("pointerdown",V),bt("pointermove",W),bt("pointerup",G),bt("pointercancel",j),bt("pointerout",j),bt("pointerleave",j),bt("contextmenu",j)),bt("wheel",J)},st=()=>{const t=w[v],e=t.slider;l.draggable&&!e.classList.contains("tobii__slider--is-draggable")&&e.classList.add("tobii__slider--is-draggable");const i=!l.nav||1===t.elementsLength||"auto"===l.nav&&ct();D(p,i,i),D(b,i,i),h.setAttribute("aria-hidden",l.counter&&1!==t.elementsLength?"false":"true")},ot=(t=null)=>{R(),h.innerHTML=`<p>${w[v].currentIndex+1}/${w[v].elementsLength}</p>`,(t=>{const e=w[v],i=e.elementsLength>1;if(!0!==l.nav&&"auto"!==l.nav||ct()||!i?l.close&&g.focus():(D(p,!0,!0),D(b,!0,!0),0===e.currentIndex?(D(b,!1,!1),b.focus()):e.currentIndex===e.elementsLength-1?(D(p,!1,!1),p.focus()):(D(p,!1,!1),D(b,!1,!1),"left"===t?p.focus():b.focus())),i&&0!==e.currentIndex){const t=u.querySelector('.tobii__slide--is-active figure[tabindex="-1"]');t&&setTimeout(()=>{t.focus()},250)}})(t)},lt=()=>{dt()&&X(),Object.entries(w).forEach(t=>{t[1].gallery.forEach(t=>{C(t)})}),w={},v=null;for(const t in s)s[t].onReset()},dt=()=>"false"===u.getAttribute("aria-hidden"),ct=()=>"ontouchstart"in window,ut=t=>-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(t.tagName)||t===p||t===b||t===g,pt=(t,e)=>{u.addEventListener(t,e)},bt=(t,e)=>{u.removeEventListener(t,e)};return(t=>{l=(t=>({selector:".lightbox",captions:!0,captionsSelector:"img",captionAttribute:"alt",captionText:null,captionHTML:!1,captionToggle:!0,captionToggleLabel:["Hide caption","Show caption"],nav:"auto",navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18" /></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="9 6 15 12 9 18" /></svg>'],navLabel:["Previous image","Next image"],close:!0,closeText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg>',closeLabel:"Close lightbox",dialogTitle:"Lightbox",loadingIndicatorLabel:"Image loading",counter:!0,keyboard:!0,zoom:!1,zoomText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="16 4 20 4 20 8" /><line x1="14" y1="10" x2="20" y2="4" /><polyline points="8 20 4 20 4 16" /><line x1="4" y1="20" x2="10" y2="14" /><polyline points="16 20 20 20 20 16" /><line x1="14" y1="14" x2="20" y2="20" /><polyline points="8 4 4 4 4 8" /><line x1="4" y1="4" x2="10" y2="10" /></svg>',docClose:!0,swipeClose:!0,hideScrollbar:!0,draggable:!0,threshold:100,theme:"tobii--theme-default",...t}))(t),u||(u=document.createElement("div"),u.setAttribute("role","dialog"),u.setAttribute("aria-hidden","true"),u.setAttribute("aria-modal","true"),u.setAttribute("aria-label",l.dialogTitle),u.classList.add("tobii"),u.classList.add(l.theme),p=document.createElement("button"),p.className="tobii__btn tobii__btn--previous",p.setAttribute("type","button"),p.setAttribute("aria-label",l.navLabel[0]),p.innerHTML=l.navText[0],u.appendChild(p),b=document.createElement("button"),b.className="tobii__btn tobii__btn--next",b.setAttribute("type","button"),b.setAttribute("aria-label",l.navLabel[1]),b.innerHTML=l.navText[1],u.appendChild(b),g=document.createElement("button"),g.className="tobii__btn tobii__btn--close",g.setAttribute("type","button"),g.setAttribute("aria-label",l.closeLabel),g.innerHTML=l.closeText,u.appendChild(g),h=document.createElement("div"),h.className="tobii__counter",u.appendChild(h),document.body.appendChild(u));const e=document.querySelectorAll(l.selector);if(!e)throw new Error(`Ups, I can't find the selector ${l.selector} on this website.`);const i=[];e.forEach(t=>{const e=t.hasAttribute("data-group")?t.getAttribute("data-group"):"default";let n=t.href;t.hasAttribute("data-target")&&(n=t.getAttribute("data-target")),n+="__"+e,void 0!==i[n]?t.addEventListener("click",t=>{P(e),Y(),t.preventDefault()}):(i[n]=1,I(t))})})(a),r.open=Y,r.previous=M,r.next=z,r.close=X,r.add=I,r.remove=C,r.reset=lt,r.destroy=()=>{lt(),u.parentNode.removeChild(u)},r.isOpen=dt,r.slidesIndex=()=>w[v].currentIndex,r.select=t=>{const e=w[v].currentIndex;if(!dt())throw new Error("Ups, I'm closed.");if(dt()){if(!t&&0!==t)throw new Error("Ups, no slide specified.");if(t===w[v].currentIndex)throw new Error(`Ups, slide ${t} is already selected.`);if(-1===t||t>=w[v].elementsLength)throw new Error(`Ups, I can't find slide ${t}.`)}w[v].currentIndex=t,$(e),q(t),t<e&&(ot("left"),O(e),N(t-1)),t>e&&(ot("right"),O(e),N(t+1))},r.slidesCount=()=>w[v].elementsLength,r.selectGroup=P,r.currentGroup=()=>v,r.on=pt,r.off=bt,r}typeof module<"u"?module.exports=r:self.Tobii=r}();
