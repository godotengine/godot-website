<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Godot Engine"><meta name=description content="Godot takes part in the Google Summer of Code for the second year, and this time we have 8 students working on awesome features for the engine. They each share their project aim and current progress with a short devlog. This common progress report is split over two blog posts for readability. This post covers work on VCS integration (Twarit Waikar), interactive music (Daniel Matarov), a GDScript language server (Ankit Priyarup) and Visual Script improvements (Swarnim Arun)."><script defer data-domain=godotengine.org src=https://plausible.godot.foundation/js/script.file-downloads.outbound-links.js></script><meta property="og:site_name" content="Godot Engine"><meta property="og:url" content="https://godotengine.org/article/gsoc-2019-progress-report-1-part-1/"><meta property="og:type" content="website"><meta property="og:description" content="Godot takes part in the Google Summer of Code for the second year, and this time we have 8 students working on awesome features for the engine. They each share their project aim and current progress with a short devlog. This common progress report is split over two blog posts for readability. This post covers work on VCS integration (Twarit Waikar), interactive music (Daniel Matarov), a GDScript language server (Ankit Priyarup) and Visual Script improvements (Swarnim Arun)."><meta property="og:image" content="https://godotengine.org/storage/app/uploads/public/5d2/f37/8f4/5d2f378f489ad333505584.png"><meta name=twitter:card content="summary_large_image"><meta property="twitter:domain" content="godotengine.org"><meta property="twitter:url" content="https://godotengine.org/article/gsoc-2019-progress-report-1-part-1/"><meta property="og:title" content="GSoC 2019 progress report #1 (part 1) – Godot Engine"><title>GSoC 2019 progress report #1 (part 1) – Godot Engine</title>
<link rel=alternate type=application/rss+xml title="Godot News" href=/rss.xml><link rel=alternate type=application/json title="Godot News" href=/rss.json><link rel=alternate type=application/atom+xml title="Godot News" href=/atom.xml><link rel=icon href=/assets/favicon.png sizes=any><link rel=icon href=/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=/assets/css/main.css?121><link rel=stylesheet href=/assets/css/header.css?3><link rel=stylesheet href=/assets/css/tobii.min.css><link rel=preload as=font href=/assets/fonts/Montserrat-Italic-VariableFont_wght.woff2 crossorigin><link rel=preload as=font href=/assets/fonts/Montserrat-VariableFont_wght.woff2 crossorigin><link rel=me href=https://mastodon.gamedev.place/@godotengine><input type=checkbox id=nav_toggle_cb><header class="flex column"><div class="container flex align-center"><div id=nav_head><a href=/ id=logo-link><img class=nav-logo src=/assets/logo.svg width=136 height=48 alt="Godot Engine">
<img class="nav-logo dark-logo" src=/assets/logo_dark.svg width=136 height=48 alt="Godot Engine"></a><div class=mobile-links><span class="fund mobile"><a href=https://fund.godotengine.org><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:13px;fill:#fff;margin-right:4px"><path d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg> Donate</a></span>
<label for=nav_toggle_cb id=nav_toggle_btn><img src=/assets/icons/hamburger.svg width=24 height=24 alt="Main menu"></label></div></div><nav id=nav><ul class=left><li><a href=/features/ data-dropdown=features-dropdown>Features</a><li><a href=/showcase/>Showcase</a><li><a href=/blog/>Blog</a><li><a href=/community/>Community</a><li><a href=https://godotengine.org/asset-library/asset>Assets</a><li class=mobile-only><a href=/consoles/>Console support</a></ul><ul class=right><li><a href=/download/windows/ class=set-os-download-url>Download</a><li><a href=https://docs.godotengine.org>Docs</a><li><a href=https://docs.godotengine.org/en/stable/contributing/how_to_contribute.html>Contribute</a><li class="fund desktop"><a href=https://fund.godotengine.org><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:13px;fill:#fff;margin-right:4px;top:1px;position:relative"><path d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg> Donate</a></ul></nav></div></header><div class=nav-dropdown-menu id=features-dropdown><a href=/features/ class=touch-only>Features</a>
<a href=/consoles/>Console support</a></div><script>document.addEventListener("DOMContentLoaded",function(){const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=document.querySelectorAll("[data-dropdown]");t.forEach(t=>{const i=t.getAttribute("data-dropdown"),n=document.getElementById(i);if(n){let i;function s(){if(window.innerWidth<1200)return;clearTimeout(i);const e=t.getBoundingClientRect();n.style.top=e.bottom+"px",n.style.left=e.left+"px",n.style.display="block",t.classList.add("dropdown-open")}function o(){i=setTimeout(()=>{n.style.display="none",t.classList.remove("dropdown-open")},100)}function a(e){if(window.innerWidth<1200)return;e.preventDefault();const o=n.style.display==="block";o?(n.style.display="none",t.classList.remove("dropdown-open")):s()}e?t.addEventListener("click",a):(t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",o),n.addEventListener("mouseenter",()=>clearTimeout(i)),n.addEventListener("mouseleave",o))}}),e&&document.addEventListener("click",function(e){t.forEach(t=>{const s=t.getAttribute("data-dropdown"),n=document.getElementById(s);n&&!t.contains(e.target)&&!n.contains(e.target)&&(n.style.display="none",t.classList.remove("dropdown-open"))})})})</script><main><style>body{background-color:var(--background-color)}h1{margin-bottom:8px;margin-top:32px}:not(pre)>code{background:var(--code-background-color);padding:1px 4px;font-size:.95em;border-radius:3px}pre{background:var(--codeblock-background-color);color:var(--codeblock-color)}pre code{display:block;overflow-x:auto;padding:.5em}.date-big{line-height:2;margin-left:32px}article{background-color:var(--base-color);box-shadow:0 3px 2px rgba(0,0,0,.15)}figure{margin:0}figure img{margin:0}article img,article video{max-width:100%;height:auto;display:block;margin:auto;margin-top:16px;margin-bottom:16px}article h1{margin-top:64px}article h2,article h3,article h4{margin-top:42px}.article-info{display:flex;flex-direction:column;gap:8px}.article-metadata{display:flex;gap:24px;align-items:center;font-family:var(--header-font-family);margin-bottom:12px}@media(max-width:900px){.article-metadata{flex-direction:column;align-items:flex-start;gap:16px}}.article-author{color:var(--base-color-text-subtitle-date);font-weight:700;font-size:18px;flex-grow:1;display:flex;gap:12px;align-items:center}.article-author .avatar{border-radius:100%;margin:0;background:0 0}.article-author .by{color:var(--base-color-text-subtitle)}.article-metadata .date{color:var(--base-color-text-subtitle-date)}.article-metadata .date.post-recent-highlight{color:var(--post-recent-highlight-color);opacity:.8}.article-metadata .date.post-recent-highlight::after{font-size:80%;content:"NEW";border:2px solid var(--post-recent-highlight-color);padding:2px 3px;margin-left:8px}.tag.active{filter:saturate(.75)}@media screen and (min-width:900px){article .content{width:70%;margin:auto}}@media(max-width:900px){body{background-color:var(--base-color)}article{background-color:initial;box-shadow:none}article img:first-child,article video:first-child{max-width:100%}}.blog-navigation{display:grid;grid-template-columns:1fr 1fr;padding-top:30px;padding-bottom:60px}.blog-navigation .next{text-align:right}@media(max-width:900px){.blog-navigation{grid-template-columns:1fr;gap:20px;border-top:1px solid var(--code-background-color)}.blog-navigation .next{text-align:left}}.blog-navigation span{opacity:.6;font-weight:700;margin-bottom:5px;display:block}.blog-navigation a{display:inline-block;text-decoration:none;color:inherit;opacity:.6;transition:opacity .2s}.blog-navigation a:hover{opacity:1}</style><link rel=stylesheet href=/assets/css/highlight.obsidian.min.css><div class=container><article class=padded><div class="content article-container"><figure class=article-cover><img src=/storage/app/uploads/public/5d2/f37/8f4/5d2f378f489ad333505584.png title alt=" " class=rounded-lg style=width:100%;height:auto;background-color:initial></figure><div class=article-info><h1>GSoC 2019 progress report #1 (part 1)</h1><div class=article-metadata><div class=article-author><span>By: </span><img class=avatar width=25 height=25 src=/assets/images/authors/akien.webp alt="Rémi Verschelde" loading=lazy>
<span class=by>Rémi Verschelde</span></div><span class=date data-post-date="2019-07-17 14:58:28 +0000">17 July 2019</span></div><div class=tags><a href=/blog/progress-report><div class="tag active">Progress Report</div></a></div></div><div class="card card-warning"><p>This article is from <strong>July 2019</strong>, some of its contents might be outdated and no longer accurate.<br>You can find up-to-date information about the engine in the <a href=https://docs.godotengine.org/en/stable/>official documentation</a>.</div><div class=article-body><p><a href=https://godotengine.org/article/godot-google-summer-code-2019>As announced previously</a>, Godot is participating for the second time in the <a href=https://summerofcode.withgoogle.com>Google Summer of Code</a> (GSoC) programme, which lets students from all over the world work for three months on specific projects thanks to a Google stipend.<p>In 2018 we had 5 students working on various features for Godot Engine, and you can read about their work in <a href=https://godotengine.org/article/gsoc-2018-progress-report-1>last year’s progress report</a>.<p>This year we had the opportunity to select 10 students to work on many interesting projects. I missed the chance to blog about their projects and present them when the coding period started in late May, sorry about that. We’ll make up for this in this progress report where each student will present themselves and their project. We are now at the middle of the coding period, so students have around 6 weeks left in the GSoC programme.<p>This progress report will be split over two posts covering 4 projects each (for diverse reasons we had to stop the GSoC programme for two students after the first month, so we now have 8 active projects with great progress).<p>Here is the list of projects and students with links to the relevant sections.<p><strong>Part 1 (this post):</strong><ul><li><a href=#vcs-integration>Version Control Systems Integration</a> by Twarit Waikar<li><a href=#interactive-music>Interactive Music</a> by Daniel Matarov<li><a href=#gdscript-lsp>GDScript Language Server</a> by Ankit Priyarup<li><a href=#visual-scripting>Improvements to the Visual Scripting System</a> by Swarnim Arun</ul><p><strong>Part 2 (<a href=/article/gsoc-2019-progress-report-1-part-2>next post</a>):</strong><ul><li><a href=/article/gsoc-2019-progress-report-1-part-2#lightmapper>Rewriting Godot’s Light Mapper</a> by Joan Fons Sanchez<li><a href=/article/gsoc-2019-progress-report-1-part-2#static-analyzer>Static Analyzer for GDScript</a> by Suhas Prasanna<li><a href=/article/gsoc-2019-progress-report-1-part-2#motion-matching>Motion Matching Implementation Using KD Trees</a> by Aditya Abhiram<li><a href=/article/gsoc-2019-progress-report-1-part-2#async-file-access>Asynchronous Cached File Access</a> by Raghav Shankar</ul><hr><p><a id=vcs-integration></a><h2 id=version-control-systems-integration--twarit-waikar>Version Control Systems Integration – <em>Twarit Waikar</em></h2><ul><li><strong>Project:</strong> Version Control Systems (VCS) editor integration framework and Git plugin<li><strong>Student:</strong> Twarit Waikar (<a href=https://github.com/IronicallySerious>IronicallySerious</a>)<li><strong>Mentors:</strong> Gilles Roudiere (<a href=https://github.com/groud>groud</a>) and Jairo Honorio (<a href=https://github.com/jahd2602>jahd2602</a>)<li><strong>Repositories:</strong><ul><li>Godot’s framework for VCS integration:<ul><li>Dev: https://github.com/IronicallySerious/godot/tree/vcs-api-expand<li>Final (PR candidate): https://github.com/IronicallySerious/godot/tree/add-vcs-integration</ul><li>Git interaction API plugin: https://github.com/IronicallySerious/godot-git-plugin</ul></ul><h3 id=introduction>Introduction</h3><p>Since Godot is gradually entering the competitive market, dominated by only a handful of fully featured engines, it is only intuitive that it should support Godot game developers with a strong version control integration from within the editor. This project aims at creating a GUI interface to the user’s version control system deployed on their project and create a versioning system agnostic API that caters to all version control systems (VCSs) at once.<p>This integration can further be used to create more in-depth interactions to a VCS like viewing file diffs right in the editor, committing code with a simple click, resetting to a previous state almost instantly without leaving the Godot editor.<h3 id=how-does-it-look-like>How does it look like?</h3><p>We have taken inspiration from the diff UI currently present in Atom, Visual Studio Code and various other popular text editors and IDEs. We also have adopted some UX tips from Unreal Engine 4 for the initialisation of a VCS in a new project, however since Unreal Engine uses an external editor for C++ code by default, we found ourselves looking at something similar to what we already have in Visual Studio/Visual Studio Code.<p><img src=/storage/app/media/gsoc/2019-1/vcs-001.png alt="Version Control docks in the editor"><p>In the above screenshot, you can notice:<ul><li>A Version Control dock at the bottom.<li>A Version Commit dock on the right-hand side (a list of staged and modified files is also planned).<li>A Version Control Actions popup menu under Project Menu at the top left. This should behave like a quick VCS action toolbar.<li>A Version Control dedicated settings tab in the Project Settings menu. This is planned to also let the VCS addon (a.k.a. implementation of the VCS API) add a bunch of VCS-specific settings to this tab.</ul><p><img src=/storage/app/media/gsoc/2019-1/vcs-002.png alt="Version Control setup dialog"><p>Choosing Set Up Version Control brings up this menu. This is to detect all the different VCS API implementations available with the engine. The initialise button does some basic registrations and it will also let the VCS implementation provide their own initialisation steps depending on their type.<h3 id=breaking-down-the-framework>Breaking down the framework</h3><p>The integration project has several vertical slices present in it:<ol><li>A version control themed editor plugin.<li>An interface for the Godot editor to extract all VCS metadata from.<li>An implementation of the VCS interface for any of the popular VCSs in use.</ol><p>Our target for minimally complete support is focused on Git currently. By the end, we should be able to display file diffs in the editor, commit changes, stage/unstage files and extract other types of important metadata for use in the editor.<h3 id=how-do-we-plan-to-manage-distributed-and-centralised-vcs>How do we plan to manage distributed and centralised VCS?</h3><p>We plan to split the API into two when the time comes to implement a centralised VCS. This is a development style decision amongst many others as suggested by my mentors, Groud and jahd, so that we make as much progress as we can without worrying about a problem that will only come once in the future.<h3 id=which-vcs-are-planned-for-support>Which VCS are planned for support?</h3><p>Although we will be focusing only on Git for the duration of this year’s GSoC, we also recognise that Perforce and SVN are also some widely used VCS candidates for future support.<p>We should theoretically support all publically available VCSs so that integrating them into Godot is much easier by just implementing an API correctly and not worrying about how the data should be displayed in the editor.<h3 id=coming-up-next>Coming up next</h3><p>For the remaining of the coding period, I will be focusing on getting data from Git displayed in the editor, in different forms of commits, diffs, staging areas, and initialisation of Git dotfiles, to name a few. Since one of the long term goals is to keep the API independent of each VCS’ specifities, I will also be paying attention to the design I will be using in the future to create the VCS API. In the end, we will be putting the entire integration in a GDNative plugin so as to provide a plug-and-play-like experience with the Git interaction implementation.<p>You can also have a look at my <a href=https://github.com/IronicallySerious/gsoc-godot-vcs-devlogs>personal devlogs</a> to have a deeper look into what all decisions are going into realising this integration.<hr><p><a id=interactive-music></a><h2 id=interactive-music--daniel-matarov>Interactive Music – <em>Daniel Matarov</em></h2><ul><li><strong>Project:</strong> Interactive Music for Godot Engine<li><strong>Student:</strong> Daniel Matarov (<a href=https://github.com/DanielMatarov>DanielMatarov</a>)<li><strong>Mentors:</strong> Juan Linietsky (<a href=https://github.com/reduz>reduz</a>)<li><strong>Repository:</strong> https://github.com/DanielMatarov/godot/tree/Interactive-Music/modules/InteractiveMusic</ul><p>Hi! My name is Daniel and I am working on implementing a feature for interactive music in Godot, as part of the Google Summer of Code programme.<h3 id=project-overview-and-what-i-have-done-so-far>Project overview and what I have done so far</h3><p>The idea of this project is to create a new feature which allows game music to implement their tracks in a more fluid way, similar to how Wwise works with music. The reason Wwise or FMOD were not integrated instead is because they are proprietary, and that would be against the open source and free to use nature of Godot. Nevertheless, it is still an interesting challenge to create my own interactive music engine, based around Godot’s existing audio functionalities.<p>The feature adds two classes to Godot, both inheriting <code class="language-plaintext highlighter-rouge">AudioStream</code>. The first is <code class="language-plaintext highlighter-rouge">AudioStreamPlaylist</code>, which is a class that enables the user to play multiple audio files in a sequence, switching between clips based on their tempo and length in bars. The way this works is by the user inputting the tempo and beats information to the import dialogue for each file, and the rest happens behind the scenes. A beat’s length in samples is calculated based on the sample rate and the tempo, and that way the player knows how many audio frames it needs to play for each file.<p><img src=/storage/app/media/gsoc/2019-1/interactive-music-001.png alt="BPM and Beats import options for audio files"><p>Over on the class’s inspector view, the user can select the amount of streams the playlist will have, and can drag and drop them into the blank spaces.<p><img src=/storage/app/media/gsoc/2019-1/interactive-music-002.png alt="AudioStreamPlaylist configuration in inspector (no streams)"><p><img src=/storage/app/media/gsoc/2019-1/interactive-music-003.png alt="AudioStreamPlaylist configuration in inspector (with streams)"><p>There are also default BPM and beats values for the playlist, which are used if the file being played has not had tempo and beats information imported by the user. Here is a screencap of the class in action:</p><video controls>
<source src=/storage/app/media/gsoc/2019-1/interactive-music-bmp-test.mp4 type=video/mp4></video><p>The next class is called <code class="language-plaintext highlighter-rouge">AudioStreamTransitioner</code>, which is what I am currently working on. It will be an <code class="language-plaintext highlighter-rouge">AudioStream</code> that can switch between audio clips, based on in-game events, and it will also be able to fade between clips, using BPM and beats information, similar to playlist.<p><img src=/storage/app/media/gsoc/2019-1/interactive-music-004.png alt="Mockup of AudioStreamTransitioner interface"><p>Initially the user interface was supposed to go on the bottom panel, however after discussions with reduz, it was decided it would be better to have it all go in the inspector. To accommodate this use I am considering changing some of the functionalities so it fits solely into the inspector. The way I see it working would be to not have a list of clips in the class, and rather have a list of transitions and a starting clip which is triggered when the class starts. Each transition will have a clip which is transitioned to (maybe called <code class="language-plaintext highlighter-rouge">to_clip</code>), fade out beats, which specifies for how many beats the previous stream fade out for, based on bpm, fade in beats, which specifies for how long the new stream will fade in for. Fade in and fade out can be different lengths and there won’t be restrictions on either being longer than the other which will make the transitioner quite flexible for music makers.<p>I have written some pseudocode for the behind the scenes mix logic which can be found <a href=https://snipsave.com/danielmatarov/#/snippet/4f146cGYQg51SXx9ST>here</a>. This will likely change in the future but I think it is a good initial representation of how it will likely end up working.<h3 id=challenges-encountered>Challenges encountered</h3><p>While working on this project I encountered a number of issues, such as taking a bit long to figure out why my code was crashing the engine, and later on a memory leak the reason for which is yet to be discovered. What I learned from that is how to use a debugger which is something I hadn’t had to do before and as someone who is fairly inexperienced in programming it is definitely some of the most valuable things I have learned this year.<p>As mentioned previously I am dealing with a memory leak which is yet to be identified. It seems to be a problem with the preview generator <code class="language-plaintext highlighter-rouge">AudioStreamPreviewGenerator</code>, which tries to create a preview of <code class="language-plaintext highlighter-rouge">AudioStreamPlaylist</code> and it seems to do it indefinitely until it eats up all the RAM on my computer. Here is a video of this happening:</p><video controls>
<source src=/storage/app/media/gsoc/2019-1/interactive-music-ram-test.mp4 type=video/mp4></video><p>Through discussions on the IRC channel it was discovered that the code just crashes on a Linux system (I use Windows). When I ran it through VS 2017’s debugger it seemed to be a case of <code class="language-plaintext highlighter-rouge">generate_preview()</code> being called constantly, however I could not quite identify why that is happening. Currently I have disabled the preview generator in order to be able to work and for a while that problem still persisted until I added some safeguards in my playlist mix logic, but when the generator is turned on it still creates that problem. It will likely be something I try to fix later on, potentially by disabling the preview generator for playlist and probably transitioner specifically, instead of disabling it for all streams. I don’t see a need for these classes to have a waveform preview displayed below <code class="language-plaintext highlighter-rouge">AudioStreamPlayer</code>, since they contain multiple audio files, rather than one.<h3 id=what-is-next>What is next</h3><p>I aim to have transitioner functional by the beginning of August which will give me time to debug any potential issues and come up with a fix for the memory leak. Some of the things I wrote about here such as changes to how transitioner will be layed out need to be further discussed and approved by my mentor reduz. I will also aim to create an example project that displays the functionalities of the new feature, probably something simple such as pressing a few different buttons playing different music loops fading in and out. I think it will be a nice way to show it working and also give an example of the functions exposed to GDScript being used in context.<hr><p><a id=gdscript-lsp></a><h2 id=gdscript-language-server--ankit-priyarup>GDScript Language Server – <em>Ankit Priyarup</em></h2><ul><li><strong>Project:</strong> GDScript Language Server<li><strong>Student:</strong> Ankit Priyarup (<a href=https://github.com/ankitpriyarup>ankitpriyarup</a>)<li><strong>Mentors:</strong> <a href=https://github.com/Geequlim>Geequlim</a> and Lu Jiacheng (<a href=https://github.com/jason0214>Jason0214</a>)<li><strong>Repositories:</strong><ul><li>Student server working branch: https://github.com/ankitpriyarup/godot/tree/lsp<li>Mentor server working branch: https://github.com/GodotExplorer/godot/tree/gdscript-lsp<li>Student client working branch: https://github.com/ankitpriyarup/godot-tools/tree/lsp-client<li>Mentor client working branch: https://github.com/GodotExplorer/godot-tools/tree/lsp-client</ul></ul><h3 id=what-is-the-project>What is the project?</h3><p>The integrated script editor in Godot lacks features found in editors like VS Code, Sublime, Emacs, etc. These editors are also more popular among developers and therefore many want to switch to them for their usability. However, to implement core functionalities such as diagnosis, registering custom symbols, jumping to definition, etc. a Language Server structure has to be adopted. For example, the client (say VS Code) will communicate with the Godot Language Server to get desired results.<p>Microsoft’s Language Server Protocol (LSP) is flexible and powerful to implement these functionalities. It also supports many editors - VS Code, Atom, Sublime, etc. Hence, instead of writing complete extensions for each editor (client), using LSP the server is the same for all and only the client have to be implemented as an editor extension.<h3 id=how-its-like-to-work-with-godot>How it’s like to work with Godot</h3><p>I had a wonderful time coding with the fantastic and helpful community at Godot. I am mentored by Jason0214 and Geequlim. Jason0214 is very responsible as he always points out my mistakes and potential weekness from the regular code review. Geequlim is very active in the project and I always get to learn a lot from his commits. Besides that, it’s an amazing experience to talk to other students and share whatever we learned. Writing clear and well-structured code to meet standards, and making sure your changes does not break anything else was a truly educational experience.<p>I have the freedom to arrange my time and set my own plan, there’s no pressure at all. Mentors encourage me to be as creative as I can and I’m free to choose how to finish my work. Summing it all up working at Godot has been a really great experience for me.<h3 id=current-progress>Current progress</h3><p>I started off by getting familiar with the existing Godot tool for VS Code, improving existing <code class="language-plaintext highlighter-rouge">configuration</code> and <code class="language-plaintext highlighter-rouge">grammers</code>, we had to remove most of client-side code because we wanted to rely on LSP server (Godot) for most of the task for two reasons:<ul><li>To make the client smaller and easy to port to other editors such as Atom and Emacs.<li>To reuse the existing implementation of the built-in GDScript editor and reduce duplication.</ul><p>The <a href=https://microsoft.github.io/language-server-protocol/specification>LSP Specification</a> is based on an extended version of JSON RPC which can be basically used for sending notifications, requests and responses. For example: VS Code (client) will first send a notification that the opened file is GDScript by matching its extension, and then the Language Server will be connected. Client then again sends a notification defining what capabilities it can provide. Then most of the tasks can be broken down into a request-response structure, where the client requests something and the server responds with a result.<h4 id=1-diagnostics>1) Diagnostics</h4><p>An Extended GDScript Parser is created inheriting from the original GDScript parser with the aim to carry specialized parsing task for LSP. Everytime a code change is notified to the LSP Server by the client, diagnostics (i.e. errors and warnings) are updated along with their relevant details such as range (line and column number for both start and end) and message, which are stored in a map for faster lookups.<h4 id=2-code-completion>2) Code completion</h4><p>The existing <code class="language-plaintext highlighter-rouge">complete_code</code> implementation for the built-in code editor is reused, however Godot also matches written code continuously to filter possible options, while in LSP the complete list of possible items is sent to the client by the server initially. The client then handles the matching part, and typically does it better than the built-in editor. In the example below writing <code class="language-plaintext highlighter-rouge">texture</code> in the LSP client matches not only initial characters but also substrings present anywhere within the item.<p><img src=/storage/app/media/gsoc/2019-1/gdscript-lsp-001.png alt="Comparison of LSP client with builtin editor"><h4 id=3-symbol-cache-pool>3) Symbol cache pool</h4><p>To provide lookup functionalities such as Function Assist, Hover Provider, Symbol Resolve and Go to Definition, we use a symbol pool to cache all of the symbols (both native and script symbols). The cache pool is filled at the startup by parsing all scripts in the workspace for script symbols and loading native symbols from <code class="language-plaintext highlighter-rouge">DocData</code>.<p><img src=/storage/app/media/gsoc/2019-1/gdscript-lsp-002.gif alt="Symbol cache pool"><h4 id=4-documentation-provider>4) Documentation provider</h4><p>To provide quick lookup of a class documentation, the entire Godot docs are converted and dumped into system files which can be directly opened by the editors. A simple regex parser is capable of parsing the class name on ‘View Symbol Documentation’. In case the parsed symbol isn’t recognised, a list of all the symbols will be shown.<p><img src=/storage/app/media/gsoc/2019-1/gdscript-lsp-003.gif alt="ocumentation provider"><h4 id=5-rename-symbol>5) Rename symbol</h4><p>Besides these other features such as Rename symbol is also implemented, it first finds out the position of symbol definition and then the code replaces the previous name to the newly specified name from the position of definition until the end of its scope (by checking the indentation).<p><img src=/storage/app/media/gsoc/2019-1/gdscript-lsp-004.gif alt="Rename symbol"><h3 id=future-steps>Future steps</h3><p>For the remaining of the coding period, we’ll be focusing on:<ul><li><code class="language-plaintext highlighter-rouge">CodeLens</code> support for disable warnings and show slots informations connected nodes.<li>Adding a way to auto insert the signal connection code via the LSP.<li>Fixing bugs in current implementation and merging them in Godot’s <code class="language-plaintext highlighter-rouge">master</code> branch.<li>Porting the client to other popular editors like Atom and Emacs.</ul><hr><p><a id=visual-scripting></a><h2 id=improvements-to-the-visual-scripting-system--swarnim-arun>Improvements to the Visual Scripting System – <em>Swarnim Arun</em></h2><ul><li><strong>Project:</strong> Improvements To Visual Scripting System<li><strong>Student:</strong> Swarnim Arun (<a href=https://github.com/swarnimarun>swarnimarun</a>)<li><strong>Mentors:</strong> Ernest Lee (<a href=https://github.com/fire>fire</a>) and Anish Bhobe (<a href=https://github.com/KidRigger>KidRigger</a>)<li><strong>Repositories:</strong><ul><li>https://github.com/swarnimarun/godot, branches <code class="language-plaintext highlighter-rouge">vs-test</code>, <code class="language-plaintext highlighter-rouge">vs-graph-unification</code>, <code class="language-plaintext highlighter-rouge">vs-groups</code><li>PR on upstream repository: https://github.com/godotengine/godot/pull/29681</ul></ul><h3 id=project-overview>Project overview</h3><p>This is a project dedicated to reworking/refactoring/improving the Visual Scripting system that exists in Godot as a whole to make it a viable option for the people who choose to use it.<p>The main goals of the project are to simplify the UI/make the system more accessible and increase the ease of use.<p>The steps taken in that direction include unifying the Visual Scripting Graph, and making the functions system much simpler and easier to use, while adding usability changes that have long since been due for the system, and have been discussed in some length or the other in the various groups and platforms of the Godot communities.<p>Tasks completed are:<ul><li>Unifying the Graph.<li>Adding basic usability changes:<ul><li>Port swapping.<li>Automatic type cast nodes.<li>In-graph editable nodes<li>Right-click for node search dialog.<li>And a few others…</ul><li>Changing the Layout structure for more efficient use of the precious space.</ul><p>Tasks planned that still remain are:<ul><li>Bug fixing and error debugging.<li>Testing and further improvements via quality of life changes.<li>Work of the Super Node or Visual Script-based custom nodes/modules feature for greater reusability and modularity of the Visual Scripting system.</ul><h3 id=demo-clips-of-the-progress-so-far>Demo clips of the progress so far</h3><h4 id=unified-graph-all-functions-in-the-same-view>Unified graph (all functions in the same view)</h4><p><img src=/storage/app/media/gsoc/2019-1/visual-script-001.gif alt="Unified Visual Script graph"><h4 id=port-swapping>Port swapping</h4><p><img src=/storage/app/media/gsoc/2019-1/visual-script-002.gif alt="Port swapping"><h4 id=in-graph-editable-node>In-graph editable node</h4><p><img src=/storage/app/media/gsoc/2019-1/visual-script-003.gif alt="In-graph editable node"><h4 id=right-click-for-nodes>Right-click for nodes</h4><p><img src=/storage/app/media/gsoc/2019-1/visual-script-004.gif alt="Right-click for nodes"><hr><p>That’s it for this first batch of progress reports from our GSoC students. Four more reports are in the <a href=/article/gsoc-2019-progress-report-1-part-2>part 2 blog post</a>, and we should have a second progress report from all students towards the end of the coding period.<p>We hope that you will find good use cases for all the features that are being worked on, and we thank all students and mentors for their dedicated work on these projects!</div></div></article><div class=blog-navigation><div class=previous><span>Previous</span>
<a rel=prev href=/article/csharp-android-support/>C# support on Android</a></div><div class=next><span>Next</span>
<a rel=next href=/article/gsoc-2019-progress-report-1-part-2/>GSoC 2019 progress report #1 (part 2)</a></div></div></div><link rel=stylesheet href=/assets/css/anchor-link.css?1><link rel=stylesheet href=/assets/css/article-cards.css?3><script src=/assets/js/anchor-link.js></script><script>document.addEventListener("DOMContentLoaded",()=>{window.applyAnchorLinks(".article-body"),document.querySelectorAll(".article-cover img, .article-body img").forEach(e=>{if(e.classList.contains("lightbox-ignore"))return;const t=document.createElement("a");t.href=e.src,t.classList.add("lightbox"),t.dataset.group="article",e.parentNode.appendChild(t),t.appendChild(e)})})</script></main><footer class=footer-global><div class=wrapper><div class=columns><div class=col><h2>Godot Engine</h2><ul><li><a class=set-os-download-url href=/download>Download</a><li><a href=https://docs.godotengine.org>Documentation</a><li><a href=/features/>Features</a><li><a href=https://editor.godotengine.org/releases/latest/>Web editor</a><li><a href=/download/archive/>Release archive</a><li><a href=https://github.com/godotengine>Source code</a></ul></div><div class=col><h2>Project</h2><ul><li><a href=/blog/>Blog</a><li><a href=/code-of-conduct/>Code of conduct</a><li><a href=/governance/>Governance</a><li><a href=/teams/>Teams</a><li><a href=/priorities/>Priorities</a><li><a href=/community/>Communities</a></ul></div><div class=col><h2>Resources</h2><ul><li><a href=https://godotengine.org/asset-library/asset>Asset library</a><li><a href=/press/>Press kit</a><li><a href=/showcase/>Showcase</a><li><a href=/education/>Education</a><li><a href=/consoles/>Console support</a></ul></div><div class=col><h2>Foundation</h2><ul><li><a href=https://godot.foundation/>About</a><li><a href=https://fund.godotengine.org>Donate</a><li><a href=/license/>License</a><li><a href=/privacy-policy/>Privacy policy</a><li><a href=/contact/>Contact us</a></ul></div></div><hr><div class=credits-and-socials><p>© 2007-2025 Juan Linietsky, Ariel Manzur and <a href=https://github.com/godotengine/godot/blob/master/AUTHORS.md target=_blank rel=noopener>contributors</a>. Hosted by the <a href=https://godot.foundation/ target=_blank rel=noopener>Godot Foundation</a>. Website <a href=https://github.com/godotengine/godot-website target=_blank rel=noopener>source code on GitHub</a>.<div class=social><a href=https://github.com/godotengine target=_blank rel=noopener title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</a><a href=https://bsky.app/profile/godotengine.org target=_blank rel=noopener title=Bluesky><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3 61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8.0 41.9.0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1z"/></svg>
</a><a href=https://mastodon.gamedev.place/@godotengine target=_blank rel=noopener title=Mastodon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5.0.0.0-63.7 28.5-63.7 125.7.0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54a102.5 102.5.0 01-.9-13.9c85.6 20.9 158.7 9.1 178.8 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.2c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175z"/></svg>
</a><a href=https://discord.gg/godotengine target=_blank rel=noopener title=Discord><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M524.5 69.8a1.5 1.5.0 00-.8-.7A485.1 485.1.0 00404.1 32a1.8 1.8.0 00-1.9.9 337.5 337.5.0 00-14.9 30.6 447.8 447.8.0 00-134.4.0 309.5 309.5.0 00-15.1-30.6 1.9 1.9.0 00-1.9-.9A483.7 483.7.0 00116.1 69.1a1.7 1.7.0 00-.8.7C39.1 183.7 18.2 294.7 28.4 404.4a2 2 0 00.8 1.4A487.7 487.7.0 00176 479.9a1.9 1.9.0 002.1-.7 348.2 348.2.0 0030-48.8 1.9 1.9.0 00-1-2.6 321.2 321.2.0 01-45.9-21.9 1.9 1.9.0 01-.2-3.1c3.1-2.3 6.2-4.7 9.1-7.1a1.8 1.8.0 011.9-.3c96.2 43.9 200.4 43.9 295.5.0a1.8 1.8.0 011.9.2c2.9 2.4 6 4.9 9.1 7.2a1.9 1.9.0 01-.2 3.1 301.4 301.4.0 01-45.9 21.8 1.9 1.9.0 00-1 2.6 391.1 391.1.0 0030 48.8 1.9 1.9.0 002.1.7 486 486 0 00147.2-74.1 1.9 1.9.0 00.8-1.4c12.2-126.7-20.6-236.8-87-334.5zm-302 267.8c-29 0-52.8-26.6-52.8-59.2s23.4-59.3 52.8-59.3c29.7.0 53.3 26.8 52.8 59.2.0 32.7-23.4 59.3-52.8 59.3zm195.4.0c-29 0-52.8-26.6-52.8-59.2s23.3-59.3 52.8-59.3c29.7.0 53.3 26.8 52.8 59.2.0 32.7-23.2 59.3-52.8 59.3z"/></svg>
</a><a href=https://www.reddit.com/r/godot title=Reddit target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 256C0 114.6 114.6.0 256 0S512 114.6 512 256 397.4 512 256 512H37.1c-13.7.0-20.5-16.5-10.9-26.2L75 437C28.7 390.7.0 326.7.0 256zM349.6 153.6c23.6.0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6.0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8.0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7.0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-1e2-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7.0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5z"/></svg>
</a><a href=/rss.xml title=RSS target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 32C28.7 32 0 60.7.0 96V416c0 35.3 28.7 64 64 64h320c35.3.0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM96 136c0-13.3 10.7-24 24-24 137 0 248 111 248 248 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-2e2-2e2-2e2-13.3.0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24 83.9.0 152 68.1 152 152 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104-13.3.0-24-10.7-24-24zm0 120a32 32 0 1164 0 32 32 0 11-64 0z"/></svg></a></div></div></div></footer><script defer src=/assets/js/localize.js?6></script><script defer src=/assets/js/tobii.min.js></script><script defer src=/assets/js/highlight.min.js?1></script><script defer src=/assets/js/highlight.gdscript.min.js?1></script><script>document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("pre code").forEach(e=>{hljs.highlightBlock(e)}),document.querySelectorAll("[data-post-date]").forEach(e=>{Date.parse(e.dataset.postDate)>Date.now()-1e3*60*60*48&&e.classList.add("post-recent-highlight")}),new Tobii({zoom:!1});const e=document.querySelectorAll(".set-os-download-url");for(let n=0;n<e.length;n++){const s=e[n];let o="download";"version"in s.dataset&&s.dataset.version==="3"&&(o="download/3.x");let t="windows";navigator.platform.indexOf("Mac")!==-1?t="macos":navigator.userAgent.indexOf("Android")!==-1?t="android":navigator.platform.indexOf("Linux")!==-1&&(t="linux"),s.href=`/${o}/${t}/`}})</script>