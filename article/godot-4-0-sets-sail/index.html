<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Godot Engine">
	<meta name="description" content="It's official. Today marks the beginning of a new era for Godot. After 3+ years of breaking and rebuilding from the ground up, we're thrilled to say: Welcome to the start of Godot 4!">
	<meta name="theme-color" content="#3d8fcc">
	<meta property="og:site_name" content="Godot Engine">
	<meta property="og:url" content="https://godotengine.org/article/godot-4-0-sets-sail/">
	<meta name="twitter:site" content="@godotengine">

	<meta property="og:title" content="Godot 4.0 sets sail: All aboard for new horizons">
	<meta property="og:description" content="It's official. Today marks the beginning of a new era for Godot. After 3+ years of breaking and rebuilding from the ground up, we're thrilled to say: Welcome to the start of Godot 4!">
	<meta property="og:image" content="https://godotengine.org/storage/blog/covers/godot-4-0-sets-sail.webp">
	<meta property="og:type" content="article">
	<meta name="twitter:card" content="summary_large_image">
	<title>Godot 4.0 sets sail: All aboard for new horizons</title>

	<link rel="alternate" type="application/rss+xml" title="Godot News" href="/rss.xml">
	<link rel="icon" href="/assets/favicon.png" sizes="any">
	<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
	<link rel="stylesheet" href="/assets/css/main.css?112">
	<link rel="stylesheet" href="/assets/css/tobii.min.css">
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-Bold.woff2" crossorigin>
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-ExtraBold.woff2" crossorigin>
	<link rel="me" href="https://mastodon.gamedev.place/@godotengine">
</head>

<body>
	<input type="checkbox" id="nav_toggle_cb">
<header>
	<div class="container flex align-center">
		<div id="nav_head">
			<a href="/" id="logo-link">
				<img class="nav-logo" src="/assets/logo.svg" width="136" height="48" alt="Godot Engine">
				<img class="nav-logo dark-logo" src="/assets/logo_dark.svg" width="136" height="48" alt="Godot Engine">
			</a>
			<label for="nav_toggle_cb" id="nav_toggle_btn">
				<img src="/assets/icons/hamburger.svg" width="24" height="24" alt="Main menu">
			</label>
		</div>

		<nav id="nav">
			<ul class="left">
				<li><a href="/features/">Features</a></li>
				<li class="only-on-mobile"><a href="/showcase/">Showcase</a></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Community</a></li>
				<li><a href="/contact/">About</a></li>
				<li><a href="https://godotengine.org/asset-library/asset">Assets</a></li>
			</ul>

			<ul class="right">
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="https://docs.godotengine.org">Docs</a></li>
				<li><a href="https://docs.godotengine.org/en/stable/community/contributing/index.html">Contribute</a></li>
				
				<li class="fund"><a href="https://fund.godotengine.org">❤&#xFE0E; Donate</a></li>
			</ul>
		</nav>
	</div>
</header>

<main>


<style>
	body {
		background-color: var(--background-color);
	}

	h1 {
		margin-bottom: 8px;
		margin-top: 32px;
	}

	:not(pre)>code {
		background: var(--code-background-color);
		padding: 1px 4px;
		font-size: 0.95em;
		border-radius: 3px;
	}

	pre {
		background: var(--codeblock-background-color);
		color: var(--codeblock-color);
	}

	pre code {
		display: block;
		overflow-x: auto;
		padding: .5em;
	}

	.date-big {
		line-height: 2;
		margin-left: 32px;
	}

	article {
		background-color: var(--base-color);
		box-shadow: 0px 3px 2px 0px rgba(0, 0, 0, 0.15);
	}

	figure {
		margin: 0;
	}

	figure img {
		margin: 0;
	}

	article img,
	article video {
		max-width: 100%;
		height: auto;
		display: block;
		margin: auto;
		margin-top: 16px;
		margin-bottom: 16px;
	}

	article h1 {
		margin-top: 64px;
	}

	article h2,
	article h3,
	article h4 {
		margin-top: 42px;
	}

	.article-info {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.article-metadata {
		display: flex;
		gap: 24px;
		align-items: center;
		font-family: var(--header-font-family);
		margin-bottom: 12px;
	}

	@media (max-width: 900px) {
		.article-metadata {
			flex-direction: column;
			align-items: flex-start;
			gap: 16px;
		}
	}

	.article-author {
		color: var(--base-color-text-subtitle-date);
		font-weight: 700;
		font-size: 18px;
		flex-grow: 1;
		display: flex;
		gap: 12px;
		align-items: center;
	}

	.article-author .avatar {
		border-radius: 100%;
		margin: 0;
	}

	.article-author .by {
		color: var(--base-color-text-subtitle);
	}

	.article-metadata .date {
		color: var(--base-color-text-subtitle-date);
	}

	.article-metadata .date.post-recent-highlight {
		color: var(--post-recent-highlight-color);
		opacity: 0.8;
	}

	.article-metadata .date.post-recent-highlight::after {
		font-size: 80%;
		content: "NEW";
		border: 2px solid var(--post-recent-highlight-color);
		padding: 2px 3px;
		margin-left: 8px;
	}

	.tag.active {
		filter: saturate(0.75);
	}

	@media screen and (min-width: 900px) {
		article .content {
			width: 70%;
			margin: auto;
		}
	}

	@media (max-width: 900px) {
		body {
			background-color: var(--base-color);
		}

		article {
			background-color: transparent;
			box-shadow: none;
		}

		article img:first-child,
		article video:first-child {
			max-width: 100%;
		}
	}
</style>

<link rel="stylesheet" href="/assets/css/highlight.obsidian.min.css">

<div class="container">
	<article class="padded">
		<div class="content article-container">
			<figure class="article-cover">
				

				<img src="/storage/blog/covers/godot-4-0-sets-sail.webp" title=""
					alt=" " class="rounded-lg"
					style="width: 100%; height: auto; background-color: transparent;" />
			</figure>

			<div class="article-info">
				<h1>
					Godot 4.0 sets sail: All aboard for new horizons
				</h1>
				<div class="article-metadata">
					<div class="article-author">
						<span>By: </span>
						
						
							<img class="avatar" width="25" height="25" src="/assets/images/authors/everyone.webp" alt="2000+ Godot contributors" loading="lazy">
						
						<span class="by">2000+ Godot contributors</span>
					</div>
					<span class="date" data-post-date="2023-03-01 12:00:00 +0000">  1 March 2023</span>
				</div>

				<div class="tags">
					
					<a href="/blog/release">
						<div class="tag active">Release</div>
					</a>
					
				</div>
			</div>

			




			<div class="article-body">
				<p>After 3+ years of breaking and rebuilding from the ground up, a complete core overhaul and a full engine rewrite, through 17 alphas, 17 betas and 6 release candidates, we’re thrilled to say:</p>

<p><strong>Welcome to the start of Godot 4! Time to reach new heights together.</strong></p>

<p>We’re extremely excited but most of all, we’re humbled by the experience. We believe that this project is one of the most incredible examples of open collaboration and co-development. So here’s to each and every member of our brilliant community of contributors and testers!</p>

<p>We’re proud to work with you. Godot 4.0 is the culmination of years of your time and effort. Together, we’ve built a strong new base. One that opens up new horizons and gives Godot the wings to ride the winds of change, to grow with new tech and continue to meet evolving user needs. From this point onward, we build on this foundation and focus our upcoming efforts on usability and performance improvements.</p>

<p><strong>As it was with Godot 3.0, Godot 4.0 is only the beginning of the Godot 4 journey.</strong> We still expect users to encounter workflow-breaking bugs (especially on less common hardware). Some workflows will still feel somewhat unpolished, and performance won’t be optimized yet in this first stable release. But rest assured, we plan to publish releases frequently and regularly (as we have with the Alphas and Betas). So you can expect versions 4.0.1, 4.0.2, etc. to follow very soon, with new features and bigger improvements <a href="/article/release-management-4-0-and-beyond">coming later this year in Godot 4.1</a>.</p>

<p>As for Godot 3 users, needless to say, you’ll continue to receive a lot of care as we backport relevant features and bugfixes to the upcoming Godot 3.6. This is going to be our long-term support (LTS) release, that we plan to maintain for the foreseeable future to enable existing Godot 3 projects. Throughout the development of Godot 4 we’ve been backporting a lot of compatible and relevant work, and you will notice a few of the new features have already made it into Godot 3.4 and 3.5.</p>

<p>Without further ado, feel free to jump straight to the <a href="/download">download page</a>!</p>

<p>Our friends at <a href="https://www.gdquest.com/">GDQuest</a> prepared a wonderful video to highlight just how huge the Godot 4.0 release is. They also took the lead on writing this blog post, enabling the contributors from the Production team to focus on technical aspects of this release. The GDQuest team makes amazing <a href="https://github.com/gdquest-demos/godot-4.0-new-features">open source demos</a> and <a href="https://www.youtube.com/@GDQuest">YouTube tutorials</a>. They also make <a href="https://gdquest.mavenseed.com/courses/">professional courses for Godot</a>.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/chXAjMQrcZk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>

<p>For more details, grab a cup of something strong and enjoy browsing through the massive list of new features.</p>

<h2 id="giving-back">Giving back<!-- omit in toc --></h2>

<p>As a community effort, Godot relies on individual contributors to improve. In recent years, <a href="/donate/">user and company donations</a> enabled us to also hire a number of core contributors to work more hours on the engine, and allow us to finalize the Godot 4.0 release faster. As a result, our monthly expenses are higher than our monthly income and we have relied on large one-time donations to fund development. Currently, we need a lot more <a href="/donate/">monthly donations</a> to be able to sustain the pace we’ve had for the 4.0 development cycle, not to mention the need to hire more contributors to focus on key areas which are currently missing a maintainer.</p>

<p>Besides financial support, you can also give back by: writing high-quality bug reports, contributing to the code base, writing documentation, writing tutorials (for the docs or on your own space), and supporting others on the various <a href="https://docs.godotengine.org/en/latest/community/channels.html">community platforms</a> by answering questions and providing helpful tips.</p>

<p>Last but not least, making games with Godot and crediting the engine goes a long way to help raise its popularity, and thus the number of active contributors who make it better on a daily basis. Remember, we are all in this together and Godot requires community support in every area in order to thrive.</p>

<h2 id="new-features-of-godot-40">New features of Godot 4.0<!-- omit in toc --></h2>

<p>Considering it’s our biggest release to date and the longest in making, Godot 4.0 is more of a great rebuild than a regular update.</p>

<p>Many of the internal changes are difficult to showcase and much of the early development time went toward refactoring and rewriting existing features. If you’re curious to learn a bit more about it, Godot’s lead developer Juan Linietsky (<a href="https://github.com/reduz">reduz</a>) covered some of the bigger improvements made in the engine core in earlier blog posts: <a href="/article/core-refactoring-progress-report-1">1</a>, <a href="/article/core-refactoring-progress-report-2">2</a>.</p>

<p>This said, the amount of new features is nothing short of mind-boggling, so here’s a table of content to help you navigate to the areas that matter most to you:</p>

<ul>
  <li><a href="#3d-general-rendering-overhaul">3D &amp; General Rendering Overhaul</a>
    <ul>
      <li><a href="#vulkan-new-renderers">Vulkan &amp; New Renderers</a></li>
      <li><a href="#highly-improved-lighting-shadows">Highly Improved Lighting &amp; Shadows</a></li>
      <li><a href="#new-rendering-optimization-techniques">New Rendering Optimization Techniques</a></li>
      <li><a href="#enhanced-mid-post-processing-">Enhanced Mid &amp; Post-Processing  </a></li>
    </ul>
  </li>
  <li><a href="#2d-improvements">2D Improvements</a>
    <ul>
      <li><a href="#powerful-new-2d-level-editing-tools">Powerful New 2D Level-Editing Tools</a></li>
      <li><a href="#new-2d-rendering-options">New 2D Rendering Options</a></li>
      <li><a href="#improved-2d-lighting-shadows">Improved 2D Lighting &amp; Shadows</a></li>
    </ul>
  </li>
  <li><a href="#shaders-vfx">Shaders &amp; VFX</a>
    <ul>
      <li><a href="#new-atmospheric-effects">New Atmospheric Effects</a></li>
      <li><a href="#textures-material-projection">Textures &amp; Material Projection</a></li>
      <li><a href="#enhanced-shader-game-world-interaction">Enhanced Shader-Game World Interaction</a></li>
      <li><a href="#improved-shader-editor">Improved Shader Editor</a></li>
      <li><a href="#extended-shader-language">Extended Shader Language</a></li>
      <li><a href="#compute-shaders">Compute Shaders</a></li>
    </ul>
  </li>
  <li><a href="#scripting">Scripting</a>
    <ul>
      <li><a href="#gdscript">GDScript</a></li>
      <li><a href="#c">C#</a></li>
      <li><a href="#gdextension-experimental">GDExtension - experimental</a></li>
    </ul>
  </li>
  <li><a href="#physics">Physics</a>
    <ul>
      <li><a href="#game-specific-physics-engine">Game-Specific Physics Engine</a></li>
      <li><a href="#multithreading-performance-optimization">Multithreading &amp; Performance Optimization</a></li>
      <li><a href="#better-physics-api">Better Physics API</a></li>
      <li><a href="#higher-simulation-stability">Higher Simulation Stability</a></li>
    </ul>
  </li>
  <li><a href="#ui-text">UI &amp; Text</a>
    <ul>
      <li><a href="#multiple-window-support">Multiple Window Support</a></li>
      <li><a href="#ui-editor-improvements">UI Editor Improvements</a></li>
      <li><a href="#new-text-rendering-systems">New Text Rendering Systems</a></li>
      <li><a href="#new-theme-theme-editor">New Theme &amp; Theme Editor</a></li>
    </ul>
  </li>
  <li><a href="#internationalization">Internationalization</a>
    <ul>
      <li><a href="#extended-language-support">Extended Language Support</a></li>
      <li><a href="#easier-translation-workflow">Easier Translation Workflow</a></li>
    </ul>
  </li>
  <li><a href="#editor-ux">Editor &amp; UX</a>
    <ul>
      <li><a href="#easier-importing">Easier Importing</a></li>
      <li><a href="#new-editor-features-widgets">New Editor Features &amp; Widgets</a></li>
      <li><a href="#inspector-dock-improvements">Inspector Dock Improvements</a></li>
      <li><a href="#scene-dock-improvements">Scene Dock Improvements</a></li>
      <li><a href="#script-editor-improvements">Script Editor Improvements</a></li>
      <li><a href="#easier-version-control">Easier Version Control</a></li>
      <li><a href="#new-movie-maker-mode">New Movie Maker Mode</a></li>
      <li><a href="#new-editor-theme">New Editor Theme</a></li>
    </ul>
  </li>
  <li><a href="#navigation">Navigation</a>
    <ul>
      <li><a href="#server-based-navigation-system">Server-Based Navigation System</a></li>
      <li><a href="#extended-complex-navigation-support">Extended Complex Navigation Support</a></li>
    </ul>
  </li>
  <li><a href="#xr">XR</a>
    <ul>
      <li><a href="#wider-headset-platform-support">Wider Headset &amp; Platform Support</a></li>
      <li><a href="#godot-xr-tools">Godot XR Tools</a></li>
    </ul>
  </li>
  <li><a href="#networking-multiplayer">Networking &amp; Multiplayer</a>
    <ul>
      <li><a href="#more-stable-networking-systems">More Stable Networking Systems</a></li>
      <li><a href="#simplified-multiplayer-development-workflow">Simplified Multiplayer Development Workflow</a></li>
    </ul>
  </li>
  <li><a href="#audio">Audio</a>
    <ul>
      <li><a href="#cleaner-sound">Cleaner Sound</a></li>
      <li><a href="#built-in-polyphony">Built-in Polyphony</a></li>
      <li><a href="#music-looping-point-text-to-speech">Music Looping Point &amp; Text-To-Speech</a></li>
    </ul>
  </li>
  <li><a href="#animation">Animation</a>
    <ul>
      <li><a href="#enhanced-animation-editor">Enhanced Animation Editor</a></li>
      <li><a href="#improved-3d-animation-workflow">Improved 3D Animation Workflow</a></li>
      <li><a href="#animation-libraries-retargeting-system">Animation Libraries &amp; Retargeting System</a></li>
      <li><a href="#blending-transitions-complex-animation-support">Blending, Transitions &amp; Complex Animation Support</a></li>
      <li><a href="#new-tween-animation-system">New Tween Animation System</a></li>
    </ul>
  </li>
  <li><a href="#platform-support">Platform Support</a>
    <ul>
      <li><a href="#android-web-support">Android &amp; Web Support</a></li>
      <li><a href="#more-exporting-options">More Exporting Options</a></li>
    </ul>
  </li>
  <li><a href="#future">Future</a></li>
</ul>

<hr />

<p><a id="3d-general-rendering-overhaul"></a></p>
<h2 id="3d--general-rendering-overhaul">3D &amp; General Rendering Overhaul</h2>

<p><a id="vulkan-new-renderers"></a></p>
<h3 id="vulkan--new-renderers">Vulkan &amp; New Renderers</h3>

<p>Visuals are the first thing everyone notices about a game. With two new <strong>Vulkan</strong> backends (Clustered and Mobile), Godot rendering has never been so advanced.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/02-3d-outdoor-with-editor.webp" alt="An island seen from above with a calm ocean extending to the horizon" /></p>

<p>While we’re super excited to leverage Vulkan for performance optimization going forward, it was very important not to penalize users with less powerful hardware. For that, we’ve also integrated an OpenGL-based compatibility renderer aimed at supporting older and lower-end devices. As always, we want to see people create games on the full spectrum of devices for everyone to enjoy.</p>

<p>We’re also working on a <a href="https://github.com/godotengine/godot/pull/64304">Direct3D 12</a> renderer for better Windows and Xbox support.</p>

<p>With <a href="https://github.com/Je06jm">Je06jm</a>‘s contribution, you can now also take advantage of AMD’s <a href="https://github.com/godotengine/godot/pull/51679">Fidelity FX Super Resolution 1.0</a> (FSR 1.0) to dynamically and beautifully render at lower resolution while keeping your game running smoothly. Spoiler: Support for FSR 2.1 is planned in future releases.</p>

<p><a id="highly-improved-lighting-shadows"></a></p>
<h3 id="highly-improved-lighting--shadows">Highly Improved Lighting &amp; Shadows</h3>

<p>For starters, Godot’s global illumination systems have been remade from scratch.</p>

<p>For the first time ever, Godot 4 introduces a novel real-time global illumination technique for large open worlds. <strong>SDFGI</strong> - or Signed Distance Field Global Illumination - was created and implemented by Juan and you can learn a lot more about it <a href="/article/godot-40-gets-sdf-based-real-time-global-illumination">here</a>.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/02-3d-gi-sdfgi.webp" alt="GDBot the robot standing face to the camera in front of two trees" /></p>

<p>GIProbe has been replaced by the <strong>VoxelGI</strong> node, a real-time solution fit for small and medium-scale environments with particularly good results for interiors. Of course, you can still use lightmaps to pre-render lighting and shadows on low-end devices but lightmap baking now uses the GPU for much faster rendering.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/02-3d-gi-voxelgi.webp" alt="Interior of a tiny but well-lit apartment with only a living room and a kitchen" /></p>

<p>Lastly, we were never quite satisfied with how shadows looked in Godot 3. Godot 4 was an opportunity to go back to the drawing board on shadow rendering to achieve higher quality and provide more granular control.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/02-3d-shadows.mp4" type="video/mp4" />
</video>

<p><a id="new-rendering-optimization-techniques"></a></p>
<h3 id="new-rendering-optimization-techniques">New Rendering Optimization Techniques</h3>

<p>Godot 4 puts at your disposal several new rendering optimization techniques, made possible by Joan Fons (<a href="https://github.com/JFonS">JFonS</a>) and Juan.</p>

<p>The new automatic <a href="https://github.com/godotengine/godot/pull/48050">occlusion culling</a> can detect models hidden by other geometry and dynamically remove them to increase both CPU and GPU rendering performance.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/02-3d-occlusion-culling.webp" alt="Outdoor scene with purple wireframes representing occluder shapes" /></p>

<p>In open environments, few objects overlap so occlusion culling doesn’t help as much. There, you can leverage the new <a href="https://github.com/godotengine/godot/pull/44468">automatic mesh LOD</a> or use manual HLOD with full control over <a href="https://github.com/godotengine/godot/pull/48847">visibility ranges</a>.</p>

<p><a id="enhanced-mid-post-processing-"></a></p>
<h3 id="enhanced-mid--post-processing">Enhanced Mid &amp; Post-Processing</h3>

<p>If you’re looking to add that extra bit of quality when running on high-end devices, rendering contributor Clay John (<a href="https://github.com/clayjohn">clayjohn</a>) brings you <a href="https://github.com/godotengine/godot/pull/51206">Screen Space Indirect Lighting</a>.</p>

<p><strong>SSIL</strong> allows you to enhance dark areas and indirect lighting using screen-space sampling. In addition, with the powerful SSAO implementation (Screen Space Ambient Occlusion), you can access many useful settings like light affect (how much direct light is affected). You can optimize quality by ignoring objects with an ambient occlusion map.</p>

<p>For photography-minded users, Godot 4.0 introduces realistic light units allowing you to adjust the intensity of lights and use standard camera settings (like aperture, shutter speed, and ISO) to control the brightness of the final scene. Physical light units are turned off by default but you can enable them in the project settings.</p>

<p><a id="2d-improvements"></a></p>
<h2 id="2d-improvements">2D Improvements</h2>

<p><a id="powerful-new-2d-level-editing-tools"></a></p>
<h3 id="powerful-new-2d-level-editing-tools">Powerful New 2D Level-Editing Tools</h3>

<p>As a major release that breaks compatibility, Godot 4 allowed us to introduce some radical changes to the 2D workflow.</p>

<p>The biggest improvement is perhaps the brand new tilemap editor, which has been re-imagined based on your requests and reports. Gilles Roudière (<a href="https://github.com/groud">groud</a>), our 2D editor maintainer, united the workflow for tilesets and tilemaps. You have much more flexibility to organize and place tiles or supply them with metadata and animations. You can fine tune collisions, navigation, pivot points, and many more properties of tiles much more efficiently.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/03-2d-tilemap-editor.mp4" type="video/mp4" />
</video>

<p>The new tilemap editor includes layers, a new terrain auto-tiling system to paint large areas quickly, a randomized painting system to scatter plants, rocks, and other props, and a selection tool to copy, stamp, and save selections to reuse later.</p>

<p>Tileset textures are automatically expanded to prevent gaps from appearing between tiles, and a new scene placement feature allows you to add characters, chests, and other interactive scenes in grid cells.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/03-2d-tilemap-level-at-runtime.mp4" type="video/mp4" />
</video>

<p>In short, there’s a bit of an initial learning curve but you can probably build half a game with tiles alone! Once again, this is 4.0, so as with any big new change, we’ll be incorporating user feedback to improve UX in upcoming versions of Godot 4.</p>

<p>For more detail on the new tiles editor, you can Read Gilles’ multiple progress reports: <a href="/article/tiles-editor-rework">1</a>, <a href="/article/tiles-editor-progress-report-2">2</a>, <a href="/article/tiles-editor-progress-3">3</a>, <a href="/article/tiles-editor-progress-4">4</a>, <a href="/article/tiles-editor-progress-report-5">5</a>.</p>

<p><a id="new-2d-rendering-options"></a></p>
<h3 id="new-2d-rendering-options">New 2D Rendering Options</h3>

<p>The 2D canvas renderer has been updated to support Canvas Groups which allow complex blending of multiple overlapping CanvasItems. For example, you can stack a bunch of sprites together and have them blend with the background as if they were a single item.</p>

<p>With the new Clip Children property, you can use any 2D element as a mask. Finally, Multisample Anti-Aliasing (MSAA) option was added to the 2D engine for better image quality and smoother edges.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/03-2d-clip-content.png" alt="Three frog faces side-by-side, one over a circle, and two clipped inside a circle" /></p>

<p><a id="improved-2d-lighting-shadows"></a></p>
<h3 id="improved-2d-lighting--shadows">Improved 2D Lighting &amp; Shadows</h3>

<p>2D got its share of lighting improvements with 2D directional lights and shadows.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/03-2d-directional-lights.png" alt="2d side-scrolling game forest level with a little crocodile character lit by a directional light" /></p>

<p>Using signed distance fields in shaders, you can achieve advanced visual effects, such as long drop shadows, halos, and crisp outlines. For a 3D feel, light elevation can be controlled in normal maps. Last, but not least, you will notice a significant improvement in performance when using multiple light sources.</p>

<p><a id="shaders-vfx"></a></p>
<h2 id="shaders--vfx">Shaders &amp; VFX</h2>

<p><a id="new-atmospheric-effects"></a></p>
<h3 id="new-atmospheric-effects">New Atmospheric Effects</h3>

<p>To help improve the fidelity of your 3D scenes, we have worked on some exciting and long-anticipated features. <a href="https://github.com/godotengine/godot/pull/41213">Volumetric fog</a> is making its first appearance in Godot 4, balancing a realistic look and fast performance, thanks to the use of temporal reprojection.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/04-vfx-volumetric-fog.webp" alt="Looking at the window of a tiny apartment with sunlight revealing smoke or fog in the living room" /></p>

<p>You can configure the effect globally, or define specific areas with <a href="https://github.com/godotengine/godot/pull/53353">FogVolume nodes</a>. You can even create complex dynamic effects by writing custom shaders that operate on FogVolume nodes.</p>

<p>For other atmospheric effects, Godot 4.0 is introducing sky shaders which allow users to create dynamic skies that update in real time (including reflections). For more information see the article introducing <a href="/article/custom-sky-shaders-godot-4-0">sky shaders</a>.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/04-vfx-sky-shaders.webp" alt="Starry night sky over an island. The Godot editor interface surrounds the scene, with a color picker open" /></p>

<p><a id="textures-material-projection"></a></p>
<h3 id="textures--material-projection">Textures &amp; Material Projection</h3>

<p>In addition to the new noise textures that were backported to Godot 3.5, we’re very happy to introduce <a href="https://github.com/godotengine/godot/pull/37861">Decals</a> which now let you project materials on surfaces to decorate your environments.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/04-vfx-decals.mp4" type="video/mp4" />
</video>

<p><a id="enhanced-shader-game-world-interaction"></a></p>
<h3 id="enhanced-shader-game-world-interaction">Enhanced Shader-Game World Interaction</h3>

<p>Visual effect artists among you should find a lot of useful changes to the GPU-based particles. Those now come with support for attractors, <a href="https://github.com/godotengine/godot/pull/42628">collision</a>, <a href="https://github.com/godotengine/godot/pull/48242">trails</a>, <a href="https://github.com/godotengine/godot/pull/41810">sub-emitters and manual emission</a>.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/04-vfx-particle-trails.mp4" type="video/mp4" />
</video>

<p>For effects that apply to the whole game world, like wind direction or wetness level, you can now share global values across materials.</p>

<p><a id="improved-shader-editor"></a></p>
<h3 id="improved-shader-editor">Improved Shader Editor</h3>

<p>The introduction of all these new features once again created an opportunity to improve form and function in the visual shader editor. It now looks and feels nicer.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/04-vfx-improved-visual-shaders.png" alt="Screenshot of the visual shader editor with several connected nodes" /></p>

<p><a id="extended-shader-language"></a></p>
<h3 id="extended-shader-language">Extended Shader Language</h3>

<p>Yuri Rubinsky (<a href="https://github.com/Chaosus">Chaosus</a>) poured a lot of love into making the shader language and visual shaders more accessible and versatile. Check out his and Juan’s blog posts on some of the improvements: <a href="/article/improvements-shaders-visual-shaders-godot-4">1</a>, <a href="/article/godot-40-gets-global-and-instance-shader-uniforms">2</a>.</p>

<p>Some exciting additions include support for <a href="https://github.com/godotengine/godot/pull/62513">uniform arrays</a> and <a href="https://github.com/godotengine/godot/pull/44698">fragment-to-light varyings</a>, as well as new syntax features, such as <a href="https://github.com/godotengine/godot/pull/35249">structs</a>, <a href="https://github.com/godotengine/godot/pull/62513">preprocessor macros and shader includes</a>.</p>

<p><a id="compute-shaders"></a></p>
<h3 id="compute-shaders">Compute Shaders</h3>

<p>Last but not least, Godot now supports and uses compute shaders to accelerate algorithms using the graphics card.</p>

<p><a id="scripting"></a></p>
<h2 id="scripting">Scripting</h2>

<p><a id="gdscript"></a></p>
<h3 id="gdscript">GDScript</h3>

<p>With <strong>GDScript</strong> being the most used language among current Godot users, we wanted to really improve the coding experience in Godot 4 with some of the most requested language features.</p>

<p>You will find the static typing system is now more robust with no cyclic dependency errors and the ability to type arrays. You can reap the benefits of first-class functions, lambdas and signals, a new property syntax, the await and super keywords, and functional tools like map or reduce.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/05-scripting-new-syntax.png" alt="Screenshot of a GDScript file showing some of the new syntax in Godot 4.0" /></p>

<p>With less use of strings, your code can be much more reliable. New built-in annotations make the language clearer and improve syntax for exported properties. You can name variables and functions using unicode characters, making code easier to write and read for developers who rely on non-latin alphabets.</p>

<p>Error reporting improved considerably with the compiler’s ability to report many errors simultaneously using more explicit error messages and new warnings for common mistakes.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/05-scripting-multiple-errors.png" alt="Screenshot of a GDScript file with multiple errors highlighted in red" /></p>

<p>To top it off, your scripts can now automatically generate documentation in the built-in help and the Inspector dock tooltips. This practical and time-saving feature was implemented by a student, Thakee Nathees (<a href="https://github.com/ThakeeNathees">ThakeeNathees</a>), during the 2020 Google Summer of Code. You can read their report <a href="/article/gsoc-2020-progress-report-1#gdscript-doc">here</a>.</p>

<p>Despite growing in features, the GDScript runtime is much faster and more stable in Godot 4. This was achieved by a complete rewrite of the language backend by our main scripting maintainer George Marques (<a href="https://github.com/vnen">vnen</a>). If you are interested in further reading, George provided several detailed reports on the new language features (<a href="/article/gdscript-progress-report-new-gdscript-now-merged">1</a>, <a href="/article/gdscript-progress-report-feature-complete-40">2</a>) and on the decision-making process for the new language parser and runtime (<a href="/article/gdscript-progress-report-writing-tokenizer">1</a>, <a href="/article/gdscript-progress-report-writing-new-parser">2</a>, <a href="/article/gdscript-progress-report-type-checking-back">3</a>, <a href="/article/gdscript-progress-report-typed-instructions">4</a>).</p>

<p><a id="c"></a></p>
<h3 id="c">C#</h3>

<p>The much-anticipated port to .NET 6 now allows users to target a newer framework that brings optimizations and new APIs. With .NET 6, projects use C# 10 by default and all features are available.</p>

<p>Of course, the 4.0 release is also a great opportunity to break compatibility and improve the API. If you’re a C# user we highly recommend checking out this <a href="/article/whats-new-in-csharp-for-godot-4-0/">blog post by Raul Santos</a>, to find out all that’s new in C# for Godot 4.0.</p>

<p>One of the most notable changes is the use of 64-bit types as scalar values. This means many APIs that used int or float now use long and double with the most noticeable being the <code class="language-plaintext highlighter-rouge">_Process</code> method. A Variant type is also now implemented in every API that takes variants where <code class="language-plaintext highlighter-rouge">System.Object</code> was used in the past. This brings some improvements such as avoiding boxing the values.</p>

<p>Another change worth mentioning is the ability to declare signals as C# events. Declaring signals is done by writing a delegate with the [Signal] attribute like in the past, but now the delegate name must end with the EventHandler suffix and an event will be generated. It can be used to connect to and disconnect from the signal. Speaking of signals, connecting them is easier than ever now that you can use C# lambdas without having to spread your code around files.</p>

<p>Finally, Godot 4 moves away from reflection, relying instead on source generators to improve performance, moving a lot of the work that we used to do at runtime to compile time. This also allows us to find and report errors when building the project instead of failing when running the game. We hope the new analyzers will help users write better code and avoid common pitfalls such as unsupported types in exported properties.</p>

<p>Currently, the .NET version of Godot still requires a separate build of Godot but a unified editor is planned for future releases.</p>

<p><strong>Important remarks:</strong></p>

<ul>
  <li>The C# version of the Godot editor requires the .NET 6.0 SDK to be installed on your computer to work.</li>
  <li>Godot 4 doesn’t support C# projects imported from Godot 3. It may be possible to edit your project files manually, but otherwise it’s recommended to let Godot generate a new one.</li>
  <li>Currently, mobile and web platforms are not available. Support for them will likely come in Godot 4.1.</li>
</ul>

<p><a id="gdextension-experimental"></a></p>
<h3 id="gdextension---experimental">GDExtension - experimental</h3>

<p>Sometimes user-level scripting is not enough. Being an open-source project, Godot has always valued extensibility.</p>

<p>With the existing GDNative API layer, you could already extend the engine without forking or recompiling it. But it was our first attempt at making a nice abstraction layer for engine internals that you could plug and play into. And so for all its benefits, GDNative didn’t feel quite there yet.</p>

<p>With Godot 4, we introduce a new system called <strong>GDExtension</strong>. By design, it takes the best parts of creating GDNative extensions and writing custom engine modules using high performance languages such as C, C++ or Rust.</p>

<p>The code that you make with GDExtension can be ported into the engine if need be, and vice versa: Some engine parts can be made into a GDExtension library, reducing engine bloat. It also offers tighter integration into the editor now as you can expose your extension code as nodes and the engine will automatically generate help pages.</p>

<p>GDExtension was implemented by Juan and George, and further improved by many contributors, especially while porting the <a href="https://github.com/godotengine/godot-cpp">official godot-cpp C++ bindings</a>. Resident XR enthusiast and Godot contributor Bastiaan Olij (<a href="https://github.com/BastiaanOlij">BastiaanOlij</a>) took the time to write a blog post to <a href="/article/introducing-gd-extensions">introduce GDExtensions</a>.</p>

<p><strong>Important remarks:</strong></p>

<ul>
  <li>This feature is still experimental so it’s reasonable to expect breaking changes as the API gets polished.</li>
  <li>Godot 3 GDNative libraries are not automatically compatible.</li>
  <li>Documentation is still a work in progress.</li>
</ul>

<p><a id="physics"></a></p>
<h2 id="physics">Physics</h2>

<p><a id="game-specific-physics-engine"></a></p>
<h3 id="game-specific-physics-engine">Game-Specific Physics Engine</h3>

<p>Godot 4 marks a big return of Godot’s in-house 3D physics engine, <strong>Godot Physics</strong>. For years, Godot has relied on the <strong>Bullet</strong> engine to provide a solid foundation for your 3D projects. We felt, however, that a custom-made, game-specific solution would give us more flexibility when implementing new features and fixing issues.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/06-physics-ball-pool.mp4" type="video/mp4" />
</video>

<p>But first, we needed to bring Godot Physics on-par with Bullet feature-wise. This included adding new collision shapes like <a href="https://github.com/godotengine/godot/pull/45854">cylinders</a>, implementing <a href="https://github.com/godotengine/godot/pull/47347">heightmaps</a> for terrains, and <a href="https://github.com/godotengine/godot/pull/46937">SoftBody nodes</a> for clothing simulation.</p>

<p><a id="multithreading-performance-optimization"></a></p>
<h3 id="multithreading--performance-optimization">Multithreading &amp; Performance Optimization</h3>

<p>On the performance front, techniques such as broadphase optimization and multithreading were implemented for both 2D and 3D environments. Depending on your scene, the number of physics bodies, and the number of CPU cores, this can lead to a great increase in simulation speed. Some of these improvements have already been backported to the latest Godot 3 releases.</p>

<p><a id="better-physics-api"></a></p>
<h3 id="better-physics-api">Better Physics API</h3>

<p>With that done, it was time to improve the user side of things. We took the opportunity to carry out <a href="https://github.com/godotengine/godot/pull/48908">a major reorganization of physics nodes</a> and improve many APIs/behaviors to make the experience more user-friendly (<a href="https://github.com/godotengine/godot/pull/50625">collision layers logic</a>, <a href="https://github.com/godotengine/godot/pull/55736">RigidBodies</a>, etc.). A lot of properties previously unique to specific body types are now available to all <strong>PhysicsBody</strong> nodes. Also, the new <strong>CharacterBody</strong> node has now replaced old kinematic bodies for enhanced behavior in <a href="https://github.com/godotengine/godot/pull/51027/files">2D</a> and <a href="https://github.com/godotengine/godot/pull/52889">3D</a>. This allows you to have an advanced character controller ready to use with new configurable properties for flexibility.</p>

<p>Scripting properties is simpler now as well. In previous engine versions, properties related to moving, sliding, and colliding had to be manually passed to move_and_slide(). They can now be set up on the nodes themselves using scenes. This reduces the amount of code needed for desired physical interactions. In addition, physics layers and masks have been made more intuitive.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/06-physics-better-character-body.png" alt="" /></p>

<p><a id="higher-simulation-stability"></a></p>
<h3 id="higher-simulation-stability">Higher Simulation Stability</h3>

<p>A new release is not just new features. A significant effort went into fixing previous issues causing jitter and imprecise computations. With Godot 4 you can look forward to higher simulation stability. For more on this effort, contributors Camille Mohr-Daurat (<a href="https://github.com/pouleyKetchoupp">pouleyKetchoupp</a>), <a href="https://github.com/lawnjelly">lawnjelly</a>, and Fabrice Cipolla (<a href="https://github.com/fabriceci">fabriceci</a>) have documented their work in <a href="/article/physics-progress-report-1">this blog post</a>.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/06-physics-kicking-ball.mp4" type="video/mp4" />
</video>

<p><strong>Important remarks:</strong></p>

<p>Going forward on the development roadmap for Godot 4, Godot Physics is an area that will continue to receive ongoing effort. Further performance optimization is in store, and you may still encounter a few kinks we’re aware of that will be ironed out in future releases.</p>

<p><a id="ui-text"></a></p>
<h2 id="ui--text">UI &amp; Text</h2>

<p><a id="multiple-window-support"></a></p>
<h3 id="multiple-window-support">Multiple Window Support</h3>

<p>If you’re an app developer, you should be pleased to learn that Godot 4 now supports multiple windows per running application.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/08-ui-multiple-windows-protongraph.webp" alt="" /></p>

<p>Picture from <a href="https://github.com/protongraph/protongraph">Protongraph</a>, a Godot app for procedural 3D model creation. Courtesy of <a href="https://linktr.ee/hungryproton">HungryProton</a>.</p>

<p><a id="ui-editor-improvements"></a></p>
<h3 id="ui-editor-improvements">UI Editor Improvements</h3>

<p>The UI editor itself has improved in multiple ways that simplify your workflow and provide you with better control of your interfaces. You’ll notice a new visual widget for picking layout options, which quickly resizes selected UI components. Meanwhile, the inspector filters properties that are relevant to your specific selection.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/08-editor-new-ui-editing-options.png" alt="" /></p>

<p><a id="new-text-rendering-systems"></a></p>
<h3 id="new-text-rendering-systems">New Text Rendering Systems</h3>

<p>Your text rendering options have also drastically leveled up. Our talented contributor Pāvels Nadtočajevs (<a href="https://github.com/bruvzg">bruvzg</a>) has re-implemented Godot’s text rendering systems under the umbrella of the <strong>TextServer</strong>. This backend solution does the heavy lifting for everything related to displaying textual information on the screen. You now have more control over text wrapping, trimming, and your text will appear crisp at any resolution thanks to multichannel signed distance field oversampling.</p>

<p>For those of you creating apps or games using Arabic Scripts or East Asian logograms, you will find that right-to-left languages work just as you’d expect them to — ligatures, complex graphemes and all. You can read Pāvels’ detailed reports on the improvements made: <a href="/article/complex-text-layouts-progress-report-1">1</a>, <a href="/article/complex-text-layouts-progress-report-2">2</a>, <a href="/article/complex-text-layouts-progress-report-3">3</a>.</p>

<p>Besides supporting ligatures, font families and other OpenType features, font resources have two important differences from Godot 3. The first one is proper multilevel fallback logic, which helps to cover a wider range of characters than would be possible with a single font resource. The second is font size variation. The size of the font is no longer tied to the font itself, which means it can be easily changed on the fly. In fact, all Control nodes that have configurable fonts now allow you to vary the size in their theme properties.</p>

<p><a id="new-theme-theme-editor"></a></p>
<h3 id="new-theme--theme-editor">New Theme &amp; Theme Editor</h3>

<p>Speaking of themes, the new theme editor gives you better tools for creating complex looks and simplifies your UI design workflow. You can now access fonts installed to your local system directly in the editor. Finally, the default project theme has been modernized to provide a cleaner look and get rid of embedded images, which should slightly reduce the size of exported projects. We have our core contributors Hugo Locurcio (<a href="https://github.com/Calinou">Calinou</a>) and <a href="https://github.com/YuriSizov">Yuri Sizov</a> to thank for this. If you’ve been using Godot 3.5, you will have noted that some of these improvements have already been backported to Godot 3.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/08-ui-theme-editor.png" alt="" /></p>

<p><a id="internationalization"></a></p>
<h2 id="internationalization">Internationalization</h2>

<p><a id="extended-language-support"></a></p>
<h3 id="extended-language-support">Extended Language Support</h3>

<p>Localization is probably the most straightforward way to allow more people to experience your game or use your tool efficiently. As a tool itself, Godot 4.0 is the first to benefit from the new added support for bidirectional text and font ligatures. This means you can not only create games for a worldwide audience, but developers who use right-to-left languages themselves (Arabic, Urdu, Farsi, etc.) can now use Godot in the language they are most comfortable with.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/08-ui-text-in-different-languages.mp4" type="video/mp4" />
</video>

<p><a id="easier-translation-workflow"></a></p>
<h3 id="easier-translation-workflow">Easier Translation Workflow</h3>

<p>The second challenge of distributing your project to a wider audience is, of course, translation. Godot 4’s editor can now generate Portable Object Template (or POT) translation files directly from your project’s scenes and scripts. This makes it easy for translators to work with your content and produce complete translations. If your workflow uses other file formats, you can also add your own parser.</p>

<p>Godot 4’s translation system is now context-aware. It allows you to have multiple translations of the same string depending on the context. It also supports plurals allowing for correct translation depending on the quantity.</p>

<p>Your localization efforts are further assisted by a built-in pseudolocalization tool. Implemented by Angad Kambli (<a href="https://github.com/angad-k">angad-k</a>), a Google Summer of Code 2021 student, it allows to easily test the effects of diacritics and other font permutations on your UI without having to rely on actual translations to stress test your project. You can learn more about pseudolocalization features in the student’s report <a href="/article/gsoc-2021-progress-report-1#pseudolocalization">here</a>.</p>

<p><a id="editor-ux"></a></p>
<h2 id="editor--ux">Editor &amp; UX</h2>

<p>Many of the exciting new features you can now leverage in your projects have also been applied to the editor itself to improve your experience. The new text rendering system and bidirectional text support is not the only example.</p>

<p>Further improving accessibility to a wider pool of users, the editor now features enhanced touch support for Android devices.</p>

<p>Another example of a practical feature you can already use in your own projects and that is being added to the editor itself is multi-window support. You can already move docks like the Inspector to other monitors, and more parts of the interface should support popping as separate windows in upcoming Godot 4 releases.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/10-editor-floating-dock.png" alt="" /></p>

<p><a id="easier-importing"></a></p>
<h3 id="easier-importing">Easier Importing</h3>

<p>Importing is finally much easier. Resolving a major past pain point associated with importing 2D and 3D assets, Godot 4 now comes with a <a href="https://github.com/godotengine/godot/pull/47166">dedicated import dialog</a>. It allows you to preview and customize every part of the imported scene, its materials and physical properties. Scripts can still be used for additional tweaks, thanks to the <a href="https://github.com/godotengine/godot/pull/53813">new plugin interface</a>.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/10-editor-import-window.png" alt="" /></p>

<p>You should also notice a <a href="https://github.com/godotengine/godot/pull/47370">significant bump</a> in textures import speed thanks to the etcpak library, and the new multi-threaded importer. Additionally, you can now <a href="https://github.com/godotengine/godot/pull/52541">import your glTF files</a> at runtime, allowing for more modular 3D projects and tools made with the engine.</p>

<p>Give it up to K. S. Ernest Lee (<a href="https://github.com/fire">fire</a>), who brought in his expertise as an import and usability specialist.</p>

<p><a id="new-editor-features-widgets"></a></p>
<h3 id="new-editor-features--widgets">New Editor Features &amp; Widgets</h3>

<p>You will notice a myriad of new editor features and widgets created to simplify your workflow and give you better control.</p>

<p>The new command palette, added by a student during Godot Summer of Code this year, provides quick access to a lot of editor operations for keyboard-proficient users. Read a report by Bhuvaneshwar (<a href="https://github.com/Bhu1-V">Bhu1-V</a>) <a href="/article/gsoc-2021-progress-report-1#command-palette">here</a> to learn more about this feature.</p>

<p>The “default_env.tres” which added a fallback environment to all projects has been replaced by an in-editor default DirectionalLight3D and WorldEnvironment. This makes it easy to tweak lighting and effects and preview assets in the editor without the hassle of having to remember to manually disable your in-editor nodes at runtime. For more information, see the <a href="/article/editor-improvements-godot-40">blog post</a>.</p>

<p>The new color pickers with different picker shapes and color modes allow you to quickly select or update your project’s color palette.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/10-editor-color-picker.webp" alt="" /></p>

<p>The new history dock shows your undo and redo history and lets you jump to any step very quickly. The undo history now works per scene, so pressing Ctrl Z will stick to the active scene.</p>

<p><a id="inspector-dock-improvements"></a></p>
<h3 id="inspector-dock-improvements">Inspector Dock Improvements</h3>

<p>The inspector dock has received its share of attention too. You can finally export your custom resource types from your scripts and directly reference nodes in the inspector, saving you time during development. Similarly, you can use annotations to draw sections and organize properties. You will also find it easier to edit arrays, dictionaries, and complex resources in the inspector, complete with pagination.</p>

<p><a id="scene-dock-improvements"></a></p>
<h3 id="scene-dock-improvements">Scene Dock Improvements</h3>

<p>The scene dock offers new ways to search and filter nodes quickly, which is a big time saver for large scenes. Another big time saver has got to be the new and improved script templates, which can now be <a href="https://github.com/godotengine/godot/pull/53957">customized per node type</a>. The editor even comes with some handy physics body templates, courtesy of Fabrice.</p>

<p><a id="script-editor-improvements"></a></p>
<h3 id="script-editor-improvements">Script Editor Improvements</h3>

<p>The script editor has also leveled up. It now features greatly improved syntax highlighting, font ligatures, and multiple cursor support. You’ll notice new icons in the margin indicating when you override a function and linking you to the parent implementation or to the documentation.</p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/10-editor-multiple-cursors.mp4" type="video/mp4" />
</video>

<p>You can now edit various text-based data files in the script editor, such as JSON, YAML, and more.</p>

<p>One of the features already backported to Godot 3.5 is the ability to mark a node as unique in your scene. You can now apply this to multiple nodes simultaneously and quickly access these nodes in your scripts without writing their full paths. Nodes marked as unique are cached so the performance when accessing them is great.</p>

<p>Also, everything supports drag and drop to the script editor. You can control-click and drag multiple nodes to create on-ready variables, or just click and drag nodes or files into the script editor to get their path.</p>

<p><a id="easier-version-control"></a></p>
<h3 id="easier-version-control">Easier Version Control</h3>

<p>You will encounter fewer merge conflicts when using a version control system because resources are now assigned unique identifiers instead of relying on file paths.</p>

<p>The editor will also store the version last used to edit a project inside the project.godot file. This way you will be able to quickly check what version of Godot a project was created with. Additionally, the project manager will show a warning if you try to edit a project made with a different version of Godot, or a project made using unavailable engine features.</p>

<p><a id="new-movie-maker-mode"></a></p>
<h3 id="new-movie-maker-mode">New Movie Maker Mode</h3>

<p>Showcasing your progress is of course an integral part of your experience with a game engine. For that, Godot 4 introduces the new movie maker mode. It allows you to render scenes frame by frame at the maximum quality settings to record videos or trailer footage using the engine. Godot can render frames to a compressed AVI video or as a sequence of PNG images for lossless rendering.</p>

<p><a id="new-editor-theme"></a></p>
<h3 id="new-editor-theme">New Editor Theme</h3>

<p>Finally, because design deeply matters when you’re staring at your screen for hours, Hugo has also created a <a href="https://github.com/godotengine/godot/pull/45607">new editor theme</a> with a more modern feel and improved color schemes for better accessibility. It can be tailored to your preferences through multiple theme customization options.</p>

<p><a id="navigation"></a></p>
<h2 id="navigation">Navigation</h2>

<p><a id="server-based-navigation-system"></a></p>
<h3 id="server-based-navigation-system">Server-Based Navigation System</h3>

<p>Godot 4 features a new navigation system to breathe more life into physical bodies. Previous versions were entirely node-based, which limited their usability and performance. Thanks to work initiated by <a href="https://github.com/AndreaCatania">Andrea Catania</a> and continued by <a href="https://github.com/smix8">smix8</a>, the navigation system now uses a server-based approach.</p>

<p>This more efficient implementation has already been backported to Godot 3.5 and you can read more about it in <a href="/article/navigation-server-godot-4-0">Andrea’s practical example</a>.</p>

<p><a id="extended-complex-navigation-support"></a></p>
<h3 id="extended-complex-navigation-support">Extended Complex Navigation Support</h3>

<p>The new <strong>NavigationServer</strong> now supports fully dynamic environments and on-the-fly navigation mesh baking. You can stream regions, which makes the system applicable to large open spaces. Physics bodies, whether static or moving, can be marked as obstacles for automatic collision avoidance. It all works faster than before thanks to multithreading support.</p>

<p>In Godot 4.0, <a href="https://github.com/godotengine/godot/pull/63479">Navigation links</a> allow you to configure jump points, teleports, etc. With this, AI agents can navigate to any point of interest in 2D or 3D scenes, crossing over gaps, walking onto moving platforms, climbing ladders, and more.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/11-navigation-links.webp" alt="" /></p>

<p>As we have continuously reiterated throughout this article, 4.0 is only the start of the Godot 4 journey. Exciting work is ongoing to further <a href="https://github.com/godotengine/godot/pull/69988">improve avoidance algorithms to support complex scenarios</a>. Upcoming releases will bring additional workflow refinements and more performance optimization.</p>

<p><strong>Important remarks:</strong></p>

<ul>
  <li>The current API is still marked as experimental. It’s reasonable to continue to expect breaking changes.</li>
</ul>

<p><a id="xr"></a></p>
<h2 id="xr">XR</h2>

<p><a id="wider-headset-platform-support"></a></p>
<h3 id="wider-headset--platform-support">Wider Headset &amp; Platform Support</h3>

<p>OpenXR is now embedded in the engine’s core, so you no longer need a plugin to build your XR projects. OpenXR action maps allow you to bind inputs and outputs on various types of XR controllers to named actions. All major PC headsets that work through SteamVR, Oculus, or Monado are supported on Windows and Linux.</p>

<p>If your project is destined for Android devices, an official plugin extends support for the Meta Quest and PICO 4 VR headsets. You can also already use the Magic Leap 2 headset, OpenXR-compliant HTC headsets, and the new Lynx R1 AR headset, though support for these is still being fine-tuned.</p>

<p>If you’re building XR games or apps for the browser, you’ll be happy to know that Godot 4.0 supports WebXR.</p>

<p><a id="godot-xr-tools"></a></p>
<h3 id="godot-xr-tools">Godot XR Tools</h3>

<p>Thanks to the work of our <a href="https://github.com/GodotVR/godot_openxr/blob/e4af8c7b7168a7748a4e4929bc6779bb422baca7/CONTRIBUTORS.md">XR contributors</a>, Godot 4 allows you to accelerate development on your XR projects. With <a href="https://github.com/GodotVR/godot-xr-tools">Godot XR Tools</a>, which you can find in the asset library, you now have access to a <a href="https://godotvr.github.io/godot-xr-tools/">well-documented toolkit</a> that puts many popular XR mechanics at your disposal. You can start with the <a href="https://github.com/GodotVR/godot-xr-template">project template</a> and use the toolkit to add components to move around in VR space, display hands that synchronize with the player’s controllers, grab objects, etc.</p>

<p>Contributor <a href="https://github.com/teddybear082/">Teddybear082</a> has used Godot XR Tools to implement VR ports of various open-source projects. This shows how easy it is to use. <a href="https://twitter.com/Flat2VR/status/1617699586155638784">Check out his port</a> of the highly successful <a href="/showcase/cruelty-squad/">Cruelty Squad</a>!</p>

<p>In upcoming Godot 4 releases, you can look forward to a new player controller that makes it easier to drop XR support into an existing first-person game.</p>

<p><a id="networking-multiplayer"></a></p>
<h2 id="networking--multiplayer">Networking &amp; Multiplayer</h2>

<p><a id="more-stable-networking-systems"></a></p>
<h3 id="more-stable-networking-systems">More Stable Networking Systems</h3>

<p>Networking in Godot 4.0 is an altogether more pleasant and reliable experience. We’ve spent a lot of time and effort on the foundations of our networking systems and their reliability — be it DNS, HTTP, TCP, UDP, ENet, or Websockets: all core components have been refactored, improved, and many bugs and edge cases fixed and handled. DNS now resolves multiple IP addresses correctly, connections are more stable and less prone to interruptions or hanging, and large downloads work as they should. These and countless other improvements under the hood are the result of the tireless work of Fabio Alessandrelli (<a href="https://github.com/Faless">Faless</a>), Max Hilbrunner (<a href="https://github.com/mhilbrunner">mhilbrunner</a>), Haoyu Qiu (<a href="https://github.com/timothyqiu">timothyqiu</a>), David Snopek (<a href="https://github.com/dsnopek">dsnopek</a>), Jordan Schidlowsky (<a href="https://github.com/jordo">jordo</a>), <a href="https://github.com/sarchar">sarchar</a>, and many other contributors.</p>

<p>While some of the features and improvements are new in Godot 4, many important fixes have already been backported to Godot 3.</p>

<p><a id="simplified-multiplayer-development-workflow"></a></p>
<h3 id="simplified-multiplayer-development-workflow">Simplified Multiplayer Development Workflow</h3>

<p>With the changes in GDScript, Remote Procedure Calls (RPCs) can now be configured using the new annotations for clearer syntax, and code performance is generally improved.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/13-networking-rpcs.png" alt="" /></p>

<p>With the new MultiplayerSpawner and MultiplayerSynchronizer nodes, scene replication is easier than ever.</p>

<p>Headless mode (no rendering or audio output) is now available and working on Windows, Mac, and Linux. This should greatly facilitate multiplayer server hosting, server code testing, and CI/CD.</p>

<p>You can also run headless builds with placeholder assets which greatly reduces memory and processing footprint for server builds.</p>

<p><a href="https://github.com/godotengine/godot/pull/50710">Mesh or peer-to-peer networking</a> has been made available as an alternative to the client-server model.</p>

<p>In addition, many requested networking features, like setting timeouts and limiting network bandwidth are now possible.</p>

<p>We have Fabio in particular to thank for many of these features. If you want to read more on the subject, <a href="/article/multiplayer-changes-godot-4-0-report-1">this series of posts</a> is a good place to start.</p>

<p>Going forward, we will be relying on this vastly more stable, simpler and more powerful foundation to build exciting higher-level features. As is often the case with new implementations, documentation lags behind development but that doesn’t mean we won’t get to it shortly.</p>

<p><a id="audio"></a></p>
<h2 id="audio">Audio</h2>

<p>Sound design and music is another area that has benefited from several refinements in Godot 4.0. It also happens to be an area that requires a lot of specialized knowledge to properly support in the engine. Luckily, our contributor Ellen Poe (<a href="https://github.com/ellenhp">ellenhp</a>) has exactly what it takes, and her work on Godot 4 helped fix a large amount of remaining issues with the audio system.</p>

<p><a id="cleaner-sound"></a></p>
<h3 id="cleaner-sound">Cleaner Sound</h3>

<p>The new release takes full advantage of the existing <strong>AudioServer</strong> as a <a href="https://github.com/godotengine/godot/pull/51296">significant chunk of audio processing logic</a> has been moved there. This paves the way for future improvements to make Godot’s audio system more flexible and feature-rich. You can already notice significant improvements in the resampling behavior, less popping issues, artifacts, and race conditions.</p>

<p><a id="built-in-polyphony"></a></p>
<h3 id="built-in-polyphony">Built-in Polyphony</h3>

<p>The new <a href="https://github.com/godotengine/godot/pull/52237">built-in polyphony support</a>, allows you to stack and repeat the same sound multiple times on top of itself using a single AudioStreamPlayer node. This leads to more satisfying sound effects, such as gunfire.</p>

<p><a id="music-looping-point-text-to-speech"></a></p>
<h3 id="music-looping-point--text-to-speech">Music Looping Point &amp; Text-To-Speech</h3>

<p>Among the features already backported to Godot 3.5, you may already have noticed new import options to set the looping point of music with BPM-aware trimming, and the new text-to-speech function that allows you to develop inclusively and make your project more accessible.</p>

<p><a id="animation"></a></p>
<h2 id="animation">Animation</h2>

<p>Another major area of the engine that received a lot of love in Godot 4 is animation.</p>

<p><a id="enhanced-animation-editor"></a></p>
<h3 id="enhanced-animation-editor">Enhanced Animation Editor</h3>

<p>With input from Juan, Gilles, as well as contributions by François Belair (<a href="https://github.com/Razoric480">Razoric480</a>), the Animation editor now supports blend shape tracks, and an improved Bezier curve workflow. You can select and edit multiple curves simultaneously, hide individual tracks, and more.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/15-animation-sophia-retargeting.png" alt="" /></p>

<p><a id="improved-3d-animation-workflow"></a></p>
<h3 id="improved-3d-animation-workflow">Improved 3D Animation Workflow</h3>

<p>3D animations have seen an internal overhaul, allowing for compression to reduce memory usage. Dedicated position, rotation, and scale tracks have replaced united transforms. You can also switch between rotation modes and change the rotation axis order for fine control over object rotations. For more about these new implementations, we recommend <a href="/article/animation-data-redesign-40">this blog post</a> by Juan.</p>

<p><a id="animation-libraries-retargeting-system"></a></p>
<h3 id="animation-libraries--retargeting-system">Animation Libraries &amp; Retargeting System</h3>

<p>Instead of being stored in individual resources or animation player nodes, animations are now stored in Animation Libraries. This allows you to reuse them easily in your project and you can import scenes containing only animations. For more detail, check out Juan’s original <a href="https://github.com/godotengine/godot-proposals/issues/4296">proposal</a>. Complementing this feature, the new <a href="https://github.com/godotengine/godot-proposals/issues/4510">animation retargeting system</a> courtesy of <a href="https://github.com/TokageItLab">Tokage</a> lets you map animations to different assets at import time. With this, it’s drastically easier to adapt an existing animation to other models with different proportions. As a direct result, you’re able to save time and leverage motion capture data or use resources from online libraries.</p>

<p><a id="blending-transitions-complex-animation-support"></a></p>
<h3 id="blending-transitions--complex-animation-support">Blending, Transitions &amp; Complex Animation Support</h3>

<p>We grabbed the opportunity to rewrite the animation blending system. The animation tree editor now gives you more control and flexibility to set up advanced animation graphs. You can use the sync property with blend spaces and node transitions and you can further fine-tune blending with curves or state machine crossfades. It’s also easier to restart animations with one-shot nodes, transition nodes, and state machine nodes. Plus, animation state machines can teleport to any state now instead of following the transition graph, giving you more freedom in your code.</p>

<p>To top it off and give you the complete freedom to create complex state machines, K. S. Ernest Lee (<a href="https://github.com/fire">fire</a>) <a href="https://github.com/godotengine/godot/pull/61196">revived</a> an earlier pull request made by Juan. This new implementation gives you the ability to use an expression as the state machine condition for transition in AnimationTree.</p>

<p><a id="new-tween-animation-system"></a></p>
<h3 id="new-tween-animation-system">New Tween Animation System</h3>

<p>Finally, you will find tween animation much easier to set up with the new Tween System. We rewrote the API to allow you to compose complex animations. You no longer have to create a node and you will find the new functions much more versatile, with support stacking, overlapping, easing and more.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/15-tween-code.png" alt="Screenshot of a GDScript function using the new tween API" /></p>

<video autoplay="" loop="" muted="" playsinline="">
  <source src="/storage/blog/godot-4-0-sets-sail/15-tween-demo.mp4" type="video/mp4" />
</video>

<p><a id="platform-support"></a></p>
<h2 id="platform-support">Platform Support</h2>

<p><a id="android-web-support"></a></p>
<h3 id="android--web-support">Android &amp; Web Support</h3>

<p>As always, inclusiveness is a pillar of Godot. With Godot 4, we continue to strive to enable and empower the widest possible pool of game and app developers all over the world. Your hardware preferences and even the state of the devices available to you should not constitute a barrier to creating your projects. In line with this, we’re pleased to announce that Godot 4.0 runs on Android devices and in the web browser, in addition to Windows, macOS, and Linux.</p>

<p><img src="/storage/blog/godot-4-0-sets-sail/16-godot-on-android.webp" alt="Screenshot of a Godot project running on an Android tablet, with mobile controls" /></p>

<p><a id="more-exporting-options"></a></p>
<h3 id="more-exporting-options">More Exporting Options</h3>

<p>Of course, you want your games or apps to be accessible to everyone too. To this end, Godot 4 presents you with new first-class build system support for multiple CPU architectures. If you have the builds compiled, you can now target devices such as Raspberry Pi, Microsoft Volterra, Surface Pro X, Pine Phone, VisionFive, ARM Chromebooks, and Asahi Linux without much manual hassle. This is in addition to the existing support Godot has for x86 Windows &amp; Linux, and various architectures on Android, iOS, and macOS.</p>

<p>We haven’t forgotten web-based games. Among many other improvements to the web platform, Fabio has added the necessary tooling to allow <a href="/article/html5-export-profiling">remote profiling of HTML5 exports</a>. This means you can run the debugger/profiler on web exports as you would on the desktop platform making it much easier to polish and optimize your web-based games.</p>

<p>One limitation of our philosophy of inclusiveness is that it works best when everyone practices it. That is not the case with console manufacturers, who typically do not open-source their SDKs.</p>

<p>You can of course create games in Godot 3 for Xbox, PlayStation, Nintendo Switch, and more with the help of third parties. Several teams are already working on console support for Godot 4, hoping to make it more accessible to everyone.</p>

<p>This said, if your project is destined for consoles, regardless of the engine you use, you will ultimately have to register with console manufacturers and do the difficult work of adapting your game to follow their many guidelines and pass their strict QA.</p>

<p><a id="future"></a></p>
<h2 id="future">Future</h2>

<p>Did we mention Godot 4.0 is only the beginning? We kept reiterating this because we’re sharply aware that after 3 years of development, a major release feels like the end of a long wait. The reality is that Godot 4 starts now and we’re eager to polish it with a <a href="/article/release-management-4-0-and-beyond">fast paced release cycle</a>. We’ll iterate quickly on the more modern and flexible architecture that we’ve built for this major branch. Godot 4.0 is by no means a silver bullet - it’s a stable base for us to build upon, and for you to start developing new projects which will mature alongside Godot 4.x.</p>

<p>We’re working on a precise roadmap that we’ll publish at a later date.</p>

<p>This is not the end of the 3.x branch either. Godot 3.6 is on the way to wrap up current developments. You can expect some more backports coming from Godot 4.0 and the beginning of a Long Term Support 3.x branch that will live in parallel to 4.x stable releases, and mostly receive bugfixes.</p>

<p><a href="/download">Enjoy Godot 4.0!</a></p>

			</div>
		</div>
	</article>
</div>

<link rel="stylesheet" href="/assets/css/anchor-link.css?1">
<link rel="stylesheet" href="/assets/css/article-cards.css?2">
<script src="/assets/js/anchor-link.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// Add icons to easily copy section links.
		window.applyAnchorLinks('.article-body');

		// Add lightbox elements in blog articles for Tobii.
		document.querySelectorAll('.article-cover img, .article-body img').forEach((articleImg) => {
			if (articleImg.classList.contains('lightbox-ignore')) {
				return;
			}

			const lightbox = document.createElement('a');
			lightbox.href = articleImg.src;
			lightbox.classList.add('lightbox');
			lightbox.dataset.group = 'article';
			articleImg.parentNode.appendChild(lightbox);
			lightbox.appendChild(articleImg);
		});
	});
</script>

</main>

<footer>
	<div class="container flex footer-container">
		<div id="copyright">
			<p>
				© 2007-2024 Juan Linietsky, Ariel Manzur and <a
					href="https://github.com/godotengine/godot/blob/master/AUTHORS.md" target="_blank"
					rel="noopener">contributors</a>.<br>
				Hosted by the <a href="https://godot.foundation/" target="_blank" rel="noopener">Godot Foundation</a>.<br>
				Website <a href="https://github.com/godotengine/godot-website" target="_blank" rel="noopener">source code on  GitHub</a>.
			</p>
		</div>
		<div id="sitemap">
			<ul class="sitemap-group">
				<li><strong>Get Godot</strong></li>
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="/download/archive/">Release Archive</a></li>
				<li><a href="https://editor.godotengine.org/releases/latest/">Web Editor</a></li>
				<li>&nbsp;</li>
				<li><strong>Public Relations</strong></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Communities and Events</a></li>
				<li><a href="/press/">Press Kit</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>About Godot</strong></li>
				<li><a href="/features/">Features</a></li>
				<li><a href="/showcase/">Showcase</a></li>
				<li><a href="/education/">Education</a></li>
				<li><a href="/license/">License</a></li>
				<li><a href="/code-of-conduct/">Code of Conduct</a></li>
				<li><a href="/privacy-policy/">Privacy Policy</a></li>
				<li><a href="https://fund.godotengine.org">Donate</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>Project Team</strong></li>
				<li><a href="/governance/">Governance</a></li>
				<li><a href="/teams/">Teams</a></li>
				<li>&nbsp;</li>
				<li><strong>Extra Resources</strong></li>
				<li><a href="https://godotengine.org/asset-library/asset">Asset Library</a></li>
				<li><a href="https://docs.godotengine.org">Documentation</a></li>
				<li><a href="https://github.com/godotengine">Code Repository</a></li>
			</ul>
		</div>
		<div id="social" class="dark-desaturate">
			<h4 class="text-right"><a href="/contact/">Contact us</a></h4>
			<div class="flex justify-space-between" style="gap: 3px;">
				<a href="https://github.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/github_logo.svg" width="32" height="32" alt="GitHub">
				</a>
				<a href="https://mastodon.gamedev.place/@godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/mastodon_logo.svg" width="32" height="32" alt="Mastodon">
				</a>
				<a href="https://twitter.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/twitter_logo.svg" width="32" height="32" alt="Twitter">
				</a>
				<a href="https://www.facebook.com/groups/godotengine/" target="_blank" rel="noopener">
					<img src="/assets/footer/facebook_logo.svg" width="32" height="32" alt="Facebook">
				</a>
				<a href="https://www.reddit.com/r/godot" target="_blank" rel="noopener">
					<!-- Zero-width space in the `alt` text to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/reddit_logo.svg" width="32" height="32" alt="Red​dit">
				</a>
				<a href="/rss.xml" target="_blank" rel="noopener">
					<!-- Icon is called `feed` instead of `rss` to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/feed_logo.svg" width="32" height="32" alt="RSS feed">
				</a>
			</div>
		</div>
	</div>
</footer>

<script defer src="/assets/js/tobii.min.js"></script>
<script defer src="/assets/js/highlight.min.js?1"></script>
<script defer src="/assets/js/highlight.gdscript.min.js?1"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// This needs to be done on page load but also after page changes,
		// in case a code block appears in an article.
		document.querySelectorAll('pre code').forEach((block) => {
			hljs.highlightBlock(block);
		});

		document.querySelectorAll('[data-post-date]').forEach((postDate) => {
			// Highlight post dates that are less than 48 hours old.
			if (Date.parse(postDate.dataset.postDate) > (Date.now() - 1000 * 60 * 60 * 48)) {
				postDate.classList.add("post-recent-highlight");
			};
		});

		// Initialize lightbox.
		new Tobii({
			zoom: false,
		});

		// Update any download link to point to identified user's OS.
		const links = document.querySelectorAll('.set-os-download-url');
		for (let i = 0; i < links.length; i++) {
			const link = links[i];
			let link_slug = 'download';
			if ('version' in link.dataset && link.dataset['version'] === '3') {
				link_slug = 'download/3.x';
			}

			let link_platform = 'windows';
			if (navigator.platform.indexOf('Mac') !== -1) {
				link_platform = 'macos';
			} else if (navigator.platform.indexOf('Linux') !== -1) {
				link_platform = 'linux';
			}

			link.href = `/${link_slug}/${link_platform}/`;
		}
	});
</script>


</body>

</html>
