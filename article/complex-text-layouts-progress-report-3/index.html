<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Godot Engine">
	<meta name="description" content="Report on the complex text layouts support implementation progress, including changes to RichTextEdit class, compatibility and custom control implementation details.">
	<meta name="theme-color" content="#3d8fcc">
	<meta property="og:site_name" content="Godot Engine">
	<meta property="og:url" content="https://godotengine.org/article/complex-text-layouts-progress-report-3/">
	<meta name="twitter:site" content="@godotengine">

	<meta property="og:title" content="Complex text layouts progress report #3">
	<meta property="og:description" content="Report on the complex text layouts support implementation progress, including changes to RichTextEdit class, compatibility and custom control implementation details.">
	<meta property="og:image" content="https://godotengine.org/storage/app/uploads/public/5fe/1a5/089/5fe1a50899fe1978638754.png">
	<meta property="og:type" content="article">
	<meta name="twitter:card" content="summary_large_image">
	<title>Complex text layouts progress report #3</title>

	<link rel="alternate" type="application/rss+xml" title="Godot News" href="/rss.xml">
	<link rel="icon" href="/assets/favicon.png" sizes="any">
	<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
	<link rel="stylesheet" href="/assets/css/main.css?112">
	<link rel="stylesheet" href="/assets/css/tobii.min.css">
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-Bold.woff2" crossorigin>
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-ExtraBold.woff2" crossorigin>
	<link rel="me" href="https://mastodon.gamedev.place/@godotengine">
</head>

<body>
	<input type="checkbox" id="nav_toggle_cb">
<header>
	<div class="container flex align-center">
		<div id="nav_head">
			<a href="/" id="logo-link">
				<img class="nav-logo" src="/assets/logo.svg" width="136" height="48" alt="Godot Engine">
				<img class="nav-logo dark-logo" src="/assets/logo_dark.svg" width="136" height="48" alt="Godot Engine">
			</a>
			<label for="nav_toggle_cb" id="nav_toggle_btn">
				<img src="/assets/icons/hamburger.svg" width="24" height="24" alt="Main menu">
			</label>
		</div>

		<nav id="nav">
			<ul class="left">
				<li><a href="/features/">Features</a></li>
				<li class="only-on-mobile"><a href="/showcase/">Showcase</a></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Community</a></li>
				<li><a href="/contact/">About</a></li>
				<li><a href="https://godotengine.org/asset-library/asset">Assets</a></li>
			</ul>

			<ul class="right">
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="https://docs.godotengine.org">Docs</a></li>
				<li><a href="https://docs.godotengine.org/en/stable/community/contributing/index.html">Contribute</a></li>
				
				<li class="fund"><a href="https://fund.godotengine.org">❤&#xFE0E; Donate</a></li>
			</ul>
		</nav>
	</div>
</header>

<main>


<style>
	body {
		background-color: var(--background-color);
	}

	h1 {
		margin-bottom: 8px;
		margin-top: 32px;
	}

	:not(pre)>code {
		background: var(--code-background-color);
		padding: 1px 4px;
		font-size: 0.95em;
		border-radius: 3px;
	}

	pre {
		background: var(--codeblock-background-color);
		color: var(--codeblock-color);
	}

	pre code {
		display: block;
		overflow-x: auto;
		padding: .5em;
	}

	.date-big {
		line-height: 2;
		margin-left: 32px;
	}

	article {
		background-color: var(--base-color);
		box-shadow: 0px 3px 2px 0px rgba(0, 0, 0, 0.15);
	}

	figure {
		margin: 0;
	}

	figure img {
		margin: 0;
	}

	article img,
	article video {
		max-width: 100%;
		height: auto;
		display: block;
		margin: auto;
		margin-top: 16px;
		margin-bottom: 16px;
	}

	article h1 {
		margin-top: 64px;
	}

	article h2,
	article h3,
	article h4 {
		margin-top: 42px;
	}

	.article-info {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.article-metadata {
		display: flex;
		gap: 24px;
		align-items: center;
		font-family: var(--header-font-family);
		margin-bottom: 12px;
	}

	@media (max-width: 900px) {
		.article-metadata {
			flex-direction: column;
			align-items: flex-start;
			gap: 16px;
		}
	}

	.article-author {
		color: var(--base-color-text-subtitle-date);
		font-weight: 700;
		font-size: 18px;
		flex-grow: 1;
		display: flex;
		gap: 12px;
		align-items: center;
	}

	.article-author .avatar {
		border-radius: 100%;
		margin: 0;
	}

	.article-author .by {
		color: var(--base-color-text-subtitle);
	}

	.article-metadata .date {
		color: var(--base-color-text-subtitle-date);
	}

	.article-metadata .date.post-recent-highlight {
		color: var(--post-recent-highlight-color);
		opacity: 0.8;
	}

	.article-metadata .date.post-recent-highlight::after {
		font-size: 80%;
		content: "NEW";
		border: 2px solid var(--post-recent-highlight-color);
		padding: 2px 3px;
		margin-left: 8px;
	}

	.tag.active {
		filter: saturate(0.75);
	}

	@media screen and (min-width: 900px) {
		article .content {
			width: 70%;
			margin: auto;
		}
	}

	@media (max-width: 900px) {
		body {
			background-color: var(--base-color);
		}

		article {
			background-color: transparent;
			box-shadow: none;
		}

		article img:first-child,
		article video:first-child {
			max-width: 100%;
		}
	}
</style>

<link rel="stylesheet" href="/assets/css/highlight.obsidian.min.css">

<div class="container">
	<article class="padded">
		<div class="content article-container">
			<figure class="article-cover">
				

				<img src="/storage/app/uploads/public/5fe/1a5/089/5fe1a50899fe1978638754.png" title=""
					alt=" " class="rounded-lg"
					style="width: 100%; height: auto; background-color: transparent;" />
			</figure>

			<div class="article-info">
				<h1>
					Complex text layouts progress report #3
				</h1>
				<div class="article-metadata">
					<div class="article-author">
						<span>By: </span>
						
						
							<img class="avatar" width="25" height="25" src="/assets/images/authors/default_avatar.svg" alt="Pāvels Nadtočajevs" loading="lazy">
						
						<span class="by">Pāvels Nadtočajevs</span>
					</div>
					<span class="date" data-post-date="2020-12-29 09:00:00 +0000"> 29 December 2020</span>
				</div>

				<div class="tags">
					
					<a href="/blog/progress-report">
						<div class="tag active">Progress Report</div>
					</a>
					
				</div>
			</div>

			



	<div class="card card-warning">
		<p>
		
			This article is from <strong>December 2020</strong>, some of its contents might be outdated and no longer accurate.<br>
			You can find up-to-date information about the engine in the <a href="https://docs.godotengine.org/en/stable/">official documentation</a>.
		
		</p>
	</div>





			<div class="article-body">
				<h1 id="introduction">Introduction</h1>

<p>This is the third part of my work on Complex Text Layouts for Godot 4.0.</p>

<p>See <a href="https://github.com/godotengine/godot-proposals/issues/1180">godot-proposals#1180</a>, <a href="https://github.com/godotengine/godot-proposals/issues/1181">godot-proposals#1181</a>, <a href="https://github.com/godotengine/godot-proposals/issues/1182">godot-proposals#1182</a>, and <a href="https://github.com/godotengine/godot-proposals/issues/1183">godot-proposals#1183</a> on GitHub for detailed information on <abbr title="Complex Text Layouts">CTL</abbr> proposals and feedback.</p>

<p>See also the <a href="https://godotengine.org/article/complex-text-layouts-progress-report-2">previous progress report</a> for UI mirroring details and the <a href="https://godotengine.org/article/complex-text-layouts-progress-report-1">first part</a> for the <code class="language-plaintext highlighter-rouge">TextServer</code> API implementation details.</p>

<h1 id="changes-to-the-richtextlabel-control">Changes to the RichTextLabel control</h1>

<h4 id="paragraph">Paragraph</h4>

<p>Existing alignment tags (<code class="language-plaintext highlighter-rouge">[left]</code>, <code class="language-plaintext highlighter-rouge">[center]</code>, <code class="language-plaintext highlighter-rouge">[right]</code>, <code class="language-plaintext highlighter-rouge">[fill]</code>), as well as new base direction, structured text override and language paragraph options are combined to the single <code class="language-plaintext highlighter-rouge">[p]</code> tag. Standalone alignment tags are still available for compatibility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[p align=x dir=rtl]
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Values</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>align</td>
      <td>left, center, right, fill</td>
      <td>Text alignment.</td>
    </tr>
    <tr>
      <td>dir or direction</td>
      <td>ltr, rtl or auto</td>
      <td>Base text writing direction.</td>
    </tr>
    <tr>
      <td>lang or language</td>
      <td>ISO language code</td>
      <td>Text language.</td>
    </tr>
    <tr>
      <td>bidi_override</td>
      <td>default, url, file, email, list, none, custom</td>
      <td>Structured text BiDi override for the paragraph.</td>
    </tr>
  </tbody>
</table>

<h4 id="tables">Tables</h4>

<p>Support for setting cell background and border colors, including alternating odd/even row background has been added to the table. Table horizontal layout is mirrored for RTL paragraphs.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[cell bg=odd_color,even_color border=color]AAA[/cell]
</code></pre></div></div>

<p>Additionally, tables can be directly included into the text flow. Table opening and closing tags won’t start a new line anymore.</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/51c/5fe1a551c4971868617968.png" alt="Example of RichTextLabel table" /></p>

<h4 id="lists">Lists</h4>

<p>Support for numbered and unnumbered lists (list tags existed before but were non-functional) has been added.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ol type=1]Item 1
Item 2
Item 3[/ol]
</code></pre></div></div>

<p>The following list types are supported:</p>

<ul>
  <li>Unnumbered lists ( <code class="language-plaintext highlighter-rouge">[ul]</code> ).</li>
  <li>Numbered lists ( <code class="language-plaintext highlighter-rouge">[ol]</code> ) using numbers: <code class="language-plaintext highlighter-rouge">1</code> type (supports localized numbering systems, e.g. east Arabic numerals, based on paragraph language).</li>
  <li>Numbered lists ( <code class="language-plaintext highlighter-rouge">[ol]</code> ) using Roman numerals: <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">I</code> type.</li>
  <li>Numbered lists ( <code class="language-plaintext highlighter-rouge">[ol]</code> ) using Latin letters: <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code> type.</li>
</ul>

<p><img src="/storage/app/uploads/public/5fe/1a5/614/5fe1a56147259830483005.png" alt="Unordered and ordered lists" /></p>

<h4 id="images">Images</h4>

<p>Added support for image inline vertical alignment:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[image align=top]
</code></pre></div></div>

<p><img src="/storage/app/uploads/public/5fe/1a5/6e9/5fe1a56e97fcd500275634.png" alt="Images with inline vertical alignment" /></p>

<h4 id="font-and-outline">Font and outline</h4>

<p>Added tags to control font size, OpenType features and font outline parameters:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[font_size=36]
[opentype_features=scap]
[outline_color=red][outline_size=2]
</code></pre></div></div>

<p>or combined in the single tag:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[font name=res://font.tres size=36 features=scap]
</code></pre></div></div>

<p><img src="/storage/app/uploads/public/5fe/1a5/7e1/5fe1a57e1bc07058215711.png" alt="Examples of varying font parameters" /></p>

<h4 id="control-characters">Control characters</h4>

<p>Unicode control characters can be inserted to the text by inputting them directly (e.g. copy-pasting or using Godot input control context menu), or by using special tags (e.g. <code class="language-plaintext highlighter-rouge">[rlm]</code>, <code class="language-plaintext highlighter-rouge">[lrm]</code>, <code class="language-plaintext highlighter-rouge">[zwnj]</code>).</p>

<h4 id="dropcaps">Dropcaps</h4>

<p>Additionally, dropped capitals support is added to the <code class="language-plaintext highlighter-rouge">RichTextLabel</code>. Dropcaps support the same formatting options as the main text, and margins for precise placement control.</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/8b1/5fe1a58b1a6d5796589718.png" alt="Drop cap margins" />
<img src="/storage/app/uploads/public/5fe/1a5/905/5fe1a59051f29443168025.png" alt="Example of Latin and Hebrew text using dropcaps" /></p>

<h1 id="designing-custom-controls">Designing custom controls</h1>

<p>In addition to the text server interface and draw function in the <code class="language-plaintext highlighter-rouge">Font</code> class, <code class="language-plaintext highlighter-rouge">TextLine</code> and <code class="language-plaintext highlighter-rouge">TextParagraph</code> helper classes, which serve as the base for most Godot controls, are available for more convenient single and multiline text rendering and designing custom controls.</p>

<p><code class="language-plaintext highlighter-rouge">TextLine</code> and <code class="language-plaintext highlighter-rouge">TextParagraph</code> classes support the following features:</p>

<ul>
  <li>Multiple fonts and font options, and multiple languages in the single line or paragraph. Spans of text with designated font and properties can be sequentially pushed to the text buffer.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">add_string</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">font_size</span><span class="p">,</span> <span class="n">opentype_features</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>Text buffers can embed user defined custom objects (e.g. images and tables, like <code class="language-plaintext highlighter-rouge">RichTextLabel</code> does) into the text flow. In the text, such objects are represented as <code class="language-plaintext highlighter-rouge">length</code> object replacement characters, and follow all <abbr title="Bi-Directional">BiDi</abbr> reordering rules. Text buffers handle object size, alignment and placement in the text, drawing and interaction should be implemented separately.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">add_object</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">inline_align</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>The final object position in the text layout can be retrieved by using <code class="language-plaintext highlighter-rouge">get_object_rect(key)</code> function.</p>
  </li>
</ul>

<p>Both <code class="language-plaintext highlighter-rouge">TextLine</code> and <code class="language-plaintext highlighter-rouge">TextParagraph</code> provide direct access to the text server buffer <code class="language-plaintext highlighter-rouge">RID</code>s to mix their usage with direct text server API calls (e.g. accessing individual glyphs).</p>

<p>Text server buffers, <code class="language-plaintext highlighter-rouge">TextLine</code> and <code class="language-plaintext highlighter-rouge">TextParagraph</code> use a lazy calculation model. No BiDi reordering, shaping, line breaking or any other kind of text processing is done until it’s necessary to do it for the <code class="language-plaintext highlighter-rouge">get_*</code> function call or buffer rendering. While layout text is immutable and can’t be changed without redoing BiDi reordering and reshaping, layout size and alignment as well as embedded object sizes can be changed dynamically. Doing so is much faster than new buffer creation.</p>

<h1 id="limited-vertical-text-support">Limited vertical text support</h1>

<p>While Godot controls are designed to work with horizontal text only, text server and <code class="language-plaintext highlighter-rouge">TextLine</code>/<code class="language-plaintext highlighter-rouge">TextParagraph</code> classes have limited vertical text support as well. Vertical layouts can be enabled by setting the <code class="language-plaintext highlighter-rouge">orientation</code> property of the text buffer or helper class.</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/a77/5fe1a5a7744fe943517369.png" alt="Example of vertical text orientation" /></p>

<h1 id="input">Input</h1>

<p>Godot’s BiDi caret movement follows the logical order of characters (right arrow key always acts as movement forward). If the caret is located on the edge of RTL and LTR text segments, two carets are displayed. Each one indicating a position where newly inputted RTL and LTR characters will be displayed. The primary caret, which controls scrolling, is determined based on the direction of the last inputted character (or can be switched manually, by using <code class="language-plaintext highlighter-rouge">Ctrl/Cmd + ~</code>).</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/ebc/5fe1a5ebc206a227345391.png" alt="Dual caret at the intersection between LTR and RTL text segments" /></p>

<p>By default, all input keys except <kbd>Backspace</kbd>, which always deletes a single character, move the caret over the whole grapheme (i.e. base character and combining diacritics):</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/ee7/5fe1a5ee7ee8c255544417.png" alt="Demonstration of caret movement" /></p>

<p>This behavior can be changed by setting <code class="language-plaintext highlighter-rouge">mid_grapheme_caret</code> control property:</p>

<p><img src="/storage/app/uploads/public/5fe/1a5/f0c/5fe1a5f0c2620352609364.png" alt="Demonstration of mid-grapheme caret positioning" /></p>

<p><em>Note: depending on the OS and language and keyboard layout, some characters can be entered both as combining characters and single characters. In case of single character input, both backspace and movement will affect the whole character.</em></p>

<p>Input controls have various BiDi options available for the user via the context menu:</p>

<ul>
  <li>Base direction.</li>
  <li>Inserting control characters.</li>
  <li>Enabling and disabling display of control characters.</li>
</ul>

<p><img src="/storage/app/uploads/public/5fe/1a5/f2d/5fe1a5f2d7c69213554132.png" alt="BiDi options in context menu" /></p>

<p>For the custom controls, the text server provides functions to determine caret positions, selection bounding rectangles and hit testing:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shaped_text_get_carets</span><span class="p">(</span><span class="n">RID</span> <span class="n">p_text_buffer</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p_position</span><span class="p">)</span>
<span class="n">shaped_text_get_selection</span><span class="p">(</span><span class="n">RID</span> <span class="n">p_text_buffer</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p_start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p_end</span><span class="p">)</span>
<span class="n">shaped_text_hit_test_position</span><span class="p">(</span><span class="n">RID</span> <span class="n">p_text_buffer</span><span class="p">,</span> <span class="kt">float</span> <span class="n">p_coord</span><span class="p">)</span>
</code></pre></div></div>

<p>All input controls fully support structured text BiDi overrides, which do not interfere with caret movement, do not affect contents of the underlying raw string and unlike Unicode control characters can’t be accidentally modified by the user.</p>

<h1 id="compatibility">Compatibility</h1>

<p>While there are breaking changes in the <code class="language-plaintext highlighter-rouge">Font</code> and <code class="language-plaintext highlighter-rouge">Theme</code>, existing 3.2 scenes can be loaded directly, some of the conversions will be done automatically:</p>

<p><code class="language-plaintext highlighter-rouge">DynamicFont</code> and <code class="language-plaintext highlighter-rouge">BitmapFont</code> resources are converted to the new unified <code class="language-plaintext highlighter-rouge">Font</code> resources, but font size will be lost, and should be re-added in the theme properties of the controls.</p>

<p>Font loading and text drawing GDScript code should be changed manually:</p>

<ul>
  <li>Font loading: Change <code class="language-plaintext highlighter-rouge">DynamicFont</code> to <code class="language-plaintext highlighter-rouge">Font</code>, <code class="language-plaintext highlighter-rouge">DynamicFontData</code> and <code class="language-plaintext highlighter-rouge">BitmapFont</code> to <code class="language-plaintext highlighter-rouge">FontData</code>, use single list of data sources.</li>
  <li>Text / character drawing and size measurement functions: new arguments for font size, outline and text alignment were added, as well as new function for drawing multiline text.</li>
</ul>

<h1 id="icu-data-build-options-and-export-templates">ICU data, build options and export templates</h1>

<p>Full-blown CTL support is slower and results in a bigger binary size. Since some game project do not need CTL at all, or text usage is very limited, multiple compile options are available to control text server building.</p>

<p>The following build options are available:</p>

<p><code class="language-plaintext highlighter-rouge">builtin_graphite</code>, <code class="language-plaintext highlighter-rouge">builtin_harfbuzz</code> and <code class="language-plaintext highlighter-rouge">builtin_icu</code> (default value: <code class="language-plaintext highlighter-rouge">True</code>) - If true, uses built-in version of the libraries instead of system copies (can be disabled for Linux distribution packages).</p>

<p>There are two text server implementations available by default:</p>

<p>ICU, HarfBuzz and SIL Graphite 2 based text server with the full complex text layout support (<code class="language-plaintext highlighter-rouge">adv</code>).
Fallback text server without CTL support, it uses same text server API and provides roughly the same text rendering capabilities as in Godot 3.2 (<code class="language-plaintext highlighter-rouge">fb</code>).</p>

<p>Text servers can be enabled/disabled by using following build options: <code class="language-plaintext highlighter-rouge">module_text_server_adv_enabled</code>, <code class="language-plaintext highlighter-rouge">module_text_server_fb_enabled</code>.</p>

<p>If an editor or export template is built with the multiple text servers enabled, the default one can be selected in Project Settings or by using the <code class="language-plaintext highlighter-rouge">--text-driver Name</code> command line argument.</p>

<p>At runtime, the text server can be changed by using the <code class="language-plaintext highlighter-rouge">TextServerManager</code> class, but doing so will cause all existing fonts and text buffers to become invalid. It’s the user’s responsibility to free all such resources before switching text server.</p>

<p>Additional text servers can be implemented as C++ modules or GDNative libraries, and loaded / used in the same way default servers are.</p>

<p>Some languages do not use spaces between words, and dictionaries (or other type of rule-based word breaking data) are required for better line breaking. ICU provides such data, but its size can be substantial for smaller projects. To reduce export size, ICU data is not included by default, but it can be added at export and stored in the PCK archive. ICU data is always embedded in the editor binaries. Also, you can avoid the necessity for ICU data at all by manually adding valid breaking points (by adding zero-width breaking spaces, which can be inserted from Godot input controls’ context menu).</p>

<h1 id="demos-and-docs">Demos and docs</h1>

<ul>
  <li>CTL documentation and tutorials PR - https://github.com/godotengine/godot-docs/pull/4319</li>
  <li>CTL demos PR - https://github.com/godotengine/godot-demo-projects/pull/538</li>
</ul>

<h1 id="reference-work">Reference work</h1>

<ul>
  <li>UI improvements for implementing BiDi aware apps proposal - https://github.com/godotengine/godot-proposals/issues/1183</li>
  <li>CTL implementation main PR (merged) - https://github.com/godotengine/godot/pull/41100</li>
  <li>RichTextLabel control refactoring PR (merged) - https://github.com/godotengine/godot/pull/42595</li>
  <li>Variable font support PR (merged) - https://github.com/godotengine/godot/pull/43030</li>
  <li>Compatibility support for the legacy Font resources PR (merged) - https://github.com/godotengine/godot/pull/43931</li>
  <li>Drop cap support PR (merged) - https://github.com/godotengine/godot/pull/43691</li>
</ul>

			</div>
		</div>
	</article>
</div>

<link rel="stylesheet" href="/assets/css/anchor-link.css?1">
<link rel="stylesheet" href="/assets/css/article-cards.css?2">
<script src="/assets/js/anchor-link.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// Add icons to easily copy section links.
		window.applyAnchorLinks('.article-body');

		// Add lightbox elements in blog articles for Tobii.
		document.querySelectorAll('.article-cover img, .article-body img').forEach((articleImg) => {
			if (articleImg.classList.contains('lightbox-ignore')) {
				return;
			}

			const lightbox = document.createElement('a');
			lightbox.href = articleImg.src;
			lightbox.classList.add('lightbox');
			lightbox.dataset.group = 'article';
			articleImg.parentNode.appendChild(lightbox);
			lightbox.appendChild(articleImg);
		});
	});
</script>

</main>

<footer>
	<div class="container flex footer-container">
		<div id="copyright">
			<p>
				© 2007-2024 Juan Linietsky, Ariel Manzur and <a
					href="https://github.com/godotengine/godot/blob/master/AUTHORS.md" target="_blank"
					rel="noopener">contributors</a>.<br>
				Hosted by the <a href="https://godot.foundation/" target="_blank" rel="noopener">Godot Foundation</a>.<br>
				Website <a href="https://github.com/godotengine/godot-website" target="_blank" rel="noopener">source code on  GitHub</a>.
			</p>
		</div>
		<div id="sitemap">
			<ul class="sitemap-group">
				<li><strong>Get Godot</strong></li>
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="/download/archive/">Release Archive</a></li>
				<li><a href="https://editor.godotengine.org/releases/latest/">Web Editor</a></li>
				<li>&nbsp;</li>
				<li><strong>Public Relations</strong></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Communities and Events</a></li>
				<li><a href="/press/">Press Kit</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>About Godot</strong></li>
				<li><a href="/features/">Features</a></li>
				<li><a href="/showcase/">Showcase</a></li>
				<li><a href="/education/">Education</a></li>
				<li><a href="/license/">License</a></li>
				<li><a href="/code-of-conduct/">Code of Conduct</a></li>
				<li><a href="/privacy-policy/">Privacy Policy</a></li>
				<li><a href="https://fund.godotengine.org">Donate</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>Project Team</strong></li>
				<li><a href="/governance/">Governance</a></li>
				<li><a href="/teams/">Teams</a></li>
				<li>&nbsp;</li>
				<li><strong>Extra Resources</strong></li>
				<li><a href="https://godotengine.org/asset-library/asset">Asset Library</a></li>
				<li><a href="https://docs.godotengine.org">Documentation</a></li>
				<li><a href="https://github.com/godotengine">Code Repository</a></li>
			</ul>
		</div>
		<div id="social" class="dark-desaturate">
			<h4 class="text-right"><a href="/contact/">Contact us</a></h4>
			<div class="flex justify-space-between" style="gap: 3px;">
				<a href="https://github.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/github_logo.svg" width="32" height="32" alt="GitHub">
				</a>
				<a href="https://mastodon.gamedev.place/@godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/mastodon_logo.svg" width="32" height="32" alt="Mastodon">
				</a>
				<a href="https://twitter.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/twitter_logo.svg" width="32" height="32" alt="Twitter">
				</a>
				<a href="https://www.facebook.com/groups/godotengine/" target="_blank" rel="noopener">
					<img src="/assets/footer/facebook_logo.svg" width="32" height="32" alt="Facebook">
				</a>
				<a href="https://www.reddit.com/r/godot" target="_blank" rel="noopener">
					<!-- Zero-width space in the `alt` text to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/reddit_logo.svg" width="32" height="32" alt="Red​dit">
				</a>
				<a href="/rss.xml" target="_blank" rel="noopener">
					<!-- Icon is called `feed` instead of `rss` to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/feed_logo.svg" width="32" height="32" alt="RSS feed">
				</a>
			</div>
		</div>
	</div>
</footer>

<script defer src="/assets/js/tobii.min.js"></script>
<script defer src="/assets/js/highlight.min.js?1"></script>
<script defer src="/assets/js/highlight.gdscript.min.js?1"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// This needs to be done on page load but also after page changes,
		// in case a code block appears in an article.
		document.querySelectorAll('pre code').forEach((block) => {
			hljs.highlightBlock(block);
		});

		document.querySelectorAll('[data-post-date]').forEach((postDate) => {
			// Highlight post dates that are less than 48 hours old.
			if (Date.parse(postDate.dataset.postDate) > (Date.now() - 1000 * 60 * 60 * 48)) {
				postDate.classList.add("post-recent-highlight");
			};
		});

		// Initialize lightbox.
		new Tobii({
			zoom: false,
		});

		// Update any download link to point to identified user's OS.
		const links = document.querySelectorAll('.set-os-download-url');
		for (let i = 0; i < links.length; i++) {
			const link = links[i];
			let link_slug = 'download';
			if ('version' in link.dataset && link.dataset['version'] === '3') {
				link_slug = 'download/3.x';
			}

			let link_platform = 'windows';
			if (navigator.platform.indexOf('Mac') !== -1) {
				link_platform = 'macos';
			} else if (navigator.platform.indexOf('Linux') !== -1) {
				link_platform = 'linux';
			}

			link.href = `/${link_slug}/${link_platform}/`;
		}
	});
</script>


</body>

</html>
