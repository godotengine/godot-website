<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Godot Engine">
	<meta name="description" content="With single-threaded builds and sample playback, it's now easier than ever to export your game to the Web with Godot 4.3. And more!">
	<meta name="theme-color" content="#3d8fcc">
	<meta property="og:site_name" content="Godot Engine">
	<meta property="og:url" content="https://godotengine.org/article/progress-report-web-export-in-4-3/">
	<meta name="twitter:site" content="@godotengine">

	<meta property="og:title" content="Web Export in 4.3">
	<meta property="og:description" content="With single-threaded builds and sample playback, it's now easier than ever to export your game to the Web with Godot 4.3. And more!">
	<meta property="og:image" content="https://godotengine.org/storage/blog/covers/progress-report-web-export-in-4-3.webp">
	<meta property="og:type" content="article">
	<meta name="twitter:card" content="summary_large_image">
	<title>Web Export in 4.3</title>

	<link rel="alternate" type="application/rss+xml" title="Godot News" href="/rss.xml">
	<link rel="icon" href="/assets/favicon.png" sizes="any">
	<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
	<link rel="stylesheet" href="/assets/css/main.css?112">
	<link rel="stylesheet" href="/assets/css/tobii.min.css">
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-Bold.woff2" crossorigin>
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-ExtraBold.woff2" crossorigin>
	<link rel="me" href="https://mastodon.gamedev.place/@godotengine">
</head>

<body>
	<input type="checkbox" id="nav_toggle_cb">
<header>
	<div class="container flex align-center">
		<div id="nav_head">
			<a href="/" id="logo-link">
				<img class="nav-logo" src="/assets/logo.svg" width="136" height="48" alt="Godot Engine">
				<img class="nav-logo dark-logo" src="/assets/logo_dark.svg" width="136" height="48" alt="Godot Engine">
			</a>
			<label for="nav_toggle_cb" id="nav_toggle_btn">
				<img src="/assets/icons/hamburger.svg" width="24" height="24" alt="Main menu">
			</label>
		</div>

		<nav id="nav">
			<ul class="left">
				<li><a href="/features/">Features</a></li>
				<li class="only-on-mobile"><a href="/showcase/">Showcase</a></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Community</a></li>
				<li><a href="/contact/">About</a></li>
				<li><a href="https://godotengine.org/asset-library/asset">Assets</a></li>
			</ul>

			<ul class="right">
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="https://docs.godotengine.org">Docs</a></li>
				<li><a href="https://docs.godotengine.org/en/stable/community/contributing/index.html">Contribute</a></li>
				
				<li class="fund"><a href="https://fund.godotengine.org">❤&#xFE0E; Donate</a></li>
			</ul>
		</nav>
	</div>
</header>

<main>


<style>
	body {
		background-color: var(--background-color);
	}

	h1 {
		margin-bottom: 8px;
		margin-top: 32px;
	}

	:not(pre)>code {
		background: var(--code-background-color);
		padding: 1px 4px;
		font-size: 0.95em;
		border-radius: 3px;
	}

	pre {
		background: var(--codeblock-background-color);
		color: var(--codeblock-color);
	}

	pre code {
		display: block;
		overflow-x: auto;
		padding: .5em;
	}

	.date-big {
		line-height: 2;
		margin-left: 32px;
	}

	article {
		background-color: var(--base-color);
		box-shadow: 0px 3px 2px 0px rgba(0, 0, 0, 0.15);
	}

	figure {
		margin: 0;
	}

	figure img {
		margin: 0;
	}

	article img,
	article video {
		max-width: 100%;
		height: auto;
		display: block;
		margin: auto;
		margin-top: 16px;
		margin-bottom: 16px;
	}

	article h1 {
		margin-top: 64px;
	}

	article h2,
	article h3,
	article h4 {
		margin-top: 42px;
	}

	.article-info {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.article-metadata {
		display: flex;
		gap: 24px;
		align-items: center;
		font-family: var(--header-font-family);
		margin-bottom: 12px;
	}

	@media (max-width: 900px) {
		.article-metadata {
			flex-direction: column;
			align-items: flex-start;
			gap: 16px;
		}
	}

	.article-author {
		color: var(--base-color-text-subtitle-date);
		font-weight: 700;
		font-size: 18px;
		flex-grow: 1;
		display: flex;
		gap: 12px;
		align-items: center;
	}

	.article-author .avatar {
		border-radius: 100%;
		margin: 0;
	}

	.article-author .by {
		color: var(--base-color-text-subtitle);
	}

	.article-metadata .date {
		color: var(--base-color-text-subtitle-date);
	}

	.article-metadata .date.post-recent-highlight {
		color: var(--post-recent-highlight-color);
		opacity: 0.8;
	}

	.article-metadata .date.post-recent-highlight::after {
		font-size: 80%;
		content: "NEW";
		border: 2px solid var(--post-recent-highlight-color);
		padding: 2px 3px;
		margin-left: 8px;
	}

	.tag.active {
		filter: saturate(0.75);
	}

	@media screen and (min-width: 900px) {
		article .content {
			width: 70%;
			margin: auto;
		}
	}

	@media (max-width: 900px) {
		body {
			background-color: var(--base-color);
		}

		article {
			background-color: transparent;
			box-shadow: none;
		}

		article img:first-child,
		article video:first-child {
			max-width: 100%;
		}
	}
</style>

<link rel="stylesheet" href="/assets/css/highlight.obsidian.min.css">

<div class="container">
	<article class="padded">
		<div class="content article-container">
			<figure class="article-cover">
				
				<figcaption>
					<strong>Catburglar</strong>
					<span style="margin-left: 0.75rem; font-size: 90%">An open source game by @JohnGabrielUK and his team</span>
				</figcaption>
				

				<img src="/storage/blog/covers/progress-report-web-export-in-4-3.webp" title="Catburglar"
					alt="Catburglar An open source game by @JohnGabrielUK and his team" class="rounded-lg"
					style="width: 100%; height: auto; background-color: transparent;" />
			</figure>

			<div class="article-info">
				<h1>
					Web Export in 4.3
				</h1>
				<div class="article-metadata">
					<div class="article-author">
						<span>By: </span>
						
						
							<img class="avatar" width="25" height="25" src="/assets/images/authors/adamscott.webp" alt="Adam Scott" loading="lazy">
						
						<span class="by">Adam Scott</span>
					</div>
					<span class="date" data-post-date="2024-05-15 13:15:00 +0000"> 15 May 2024</span>
				</div>

				<div class="tags">
					
					<a href="/blog/progress-report">
						<div class="tag active">Progress Report</div>
					</a>
					
				</div>
			</div>

			







			<div class="article-body">
				<p>Have you ever begun some type of work, and only after realized how little you actually knew? That happened to me during <a href="https://godotengine.org/article/gdc-2024-retrospective/">the last <abbr title="Game Developers Conference">GDC</abbr></a>.</p>

<p>A few months ago, I took over <a href="https://github.com/Faless/">Fabio Alessandrelli’s (@faless)</a> responsibilities as <a href="https://godotengine.org/teams/#platforms">Web Platform Lead</a> for Godot to reduce his task load and accelerate the pace at which our Web platform exports continue to improve.</p>

<p>I’m well used to the Web and its quirks. I began creating websites in <abbr title="Extensible Hypertext Markup Language">XHTML</abbr> and (vanilla) JavaScript, back in the days. Flash games were my jam! Enough so that I even worked for a video game studio as an ActionScript 3 developer in 2010. And I didn’t really stop caring about the Web platform ever since.</p>

<p>Since then, Flash may have died, but online games didn’t.</p>

<h1 id="the-new-situation">The new situation</h1>
<p>But what I realized at the <abbr title="Game Developers Conference">GDC</abbr> is that we’re entering into a sort of Golden Age of Web games. Not only websites like <a href="https://poki.com/">Poki</a> or <a href="https://www.crazygames.com/">Crazy Games</a> are super popular, but big players are starting to integrate Web games into their services, such as
<a href="https://support.discord.com/hc/en-us/articles/4422142836759-Activities-on-Discord">Discord Activities</a> or <a href="https://www.youtube.com/playables">YouTube Playables</a>. All these entities want developers to create games for their platform, and they are all asking how Godot can bring a first-class development experience to it.</p>

<h1 id="godot43">Godot 4.3</h1>
<p>Making games for the Web using Godot 4.x still isn’t as seamless as we would like it to be. Unfortunately serious revisions are needed to improve the experience to the extent that we want.</p>

<p>Godot 4.3 promises to be one of the best recent releases for Web exports. One of the biggest issues relating to this has been properly fixed: single-threaded exports.</p>

<h2 id="single-threaded-web-export">Single-threaded Web export</h2>

<h3 id="betting-on-the-wrong-horse">Betting on the wrong horse</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer"><code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code></a>s were supposed to revolutionize the Web. And they did. That API permits to share memory between <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> (which are the Web native “threads”).</p>

<p>Unfortunately, we live in the same timeline that includes the <a href="https://meltdownattack.com/">Spectre and Meltdown exploits</a>.</p>

<p>The result of this is that <a href="https://developer.chrome.com/blog/enabling-shared-array-buffer?hl=en">browsers greatly reduced where and how you can use that API</a>. Namely, browsers nowadays require websites to be <a href="https://web.dev/coop-coep/">cross-origin isolated</a>. When isolated, it does unlock the potential of <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code>s, but at what cost?</p>

<p>At the cost of having the capacity to make remote calls to other websites. <em>Adieu</em> game monetization. <em>Adieu</em> interacting with an external API.</p>

<p>The issue is that during the development of Godot 4, we bet on the wrong horse: we went all-in with using threads with <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code>s. We thought it was mainly a question of <a href="https://caniuse.com/sharedarraybuffer">browser support</a> (which took a step back due to the aforementioned security issues), so when all browsers finally shipped stable releases with <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code>, we streamlined everything around multi-threading.</p>

<p>But we underestimated the difficulty of configuring cross-origin isolated websites.</p>

<p>We know it has been a hurdle for a lot of users trying to publish their jam games on <a href="https://itch.io">itch.io</a>, which has an experimental <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code> option, but relying upon another feature (<a href="https://caniuse.com/mdn-http_headers_cross-origin-embedder-policy_credentialless"><code class="language-plaintext highlighter-rouge">coep:credentialless</code></a>) not supported by Safari or Firefox for Android).</p>

<p>Likewise, most Web games are being published on third-party publishing platforms where the game authors may not even be able to set the required headers for <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code> support.</p>

<h3 id="backporting-the-single-threaded-feature-from-godot3x">Backporting the single-threaded feature from Godot 3.x</h3>
<p>At the end of the development of Godot 4.2, <a href="https://godot.foundation/">the Foundation</a> tasked me to find a way to backport the ability to build Godot without using threads in order to export Godot games without the pesky <abbr title="Cross-Origin-Opener-Policy">COOP</abbr>/<abbr title="Cross-Origin-Embedder-Policy">COEP</abbr> headers.</p>

<p>This was not easy because 4.0 was made with threads in mind. It maybe explains why we were so hesitant to go ahead with this change. Fortunately, with the help of our thread guru <a href="https://github.com/RandomShaper">Pedro J. Estébanez (@RandomShaper)</a>, I was able to tame the beast and put back single-threaded builds.</p>

<p><a href="https://github.com/godotengine/godot/pull/85939">My <abbr title="Pull Request">PR</abbr></a> was finally merged at the beginning of the Godot 4.3 development period.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/thread-support-export-option.webp" alt="Web export thread support option" /></p>

<p>It even had some unexpected benefits. Apple devices (macOS and iOS) were long known to have issues when playing Godot Web exports. Well, when you do export your game single-threaded, these issues fortunately disappear.</p>

<p>However, it came with a downside too: it introduced a new, virtually unsolvable bug:</p>

<p>The single-threaded build introduced garbles in the audio of games, making them unplayable on low-end machines such as laptops or phones, or high-end machines with high frame rates.</p>

<p>When I mean unplayable, I mean it. <a href="https://adamscott.github.io/2d-platformer-demo-main-thread/" target="_blank">Try it yourself.</a> (Consider yourself lucky if it doesn’t glitch out.)</p>

<p><em>Please note: we know that there’s some issues running Platformer 2D on Safari, namely the browser reloading the page complaining that “this webpage is using significant memory”. We’re currently investigating to fix this <abbr title="as soon as possible">ASAP</abbr>.</em></p>

<p>Yes. Web single-threaded audio stream playback with Godot 4.2 is that bad. It is marginally better on Godot 3.x, but the problem exists there as well.</p>

<h2 id="sample-playback-to-the-rescue">Sample playback to the rescue!</h2>
<p><a href="https://github.com/godotengine/godot/pull/91382">Here comes my <abbr title="Pull Request">PR</abbr></a> (not yet merged at the time of writing) for the rescue. <a href="https://adamscott.github.io/2d-platformer-demo-main-thread-samples/" target="_blank">Here’s the same demo without sound issues.</a></p>

<h3 id="what-are-samples">What are samples?</h3>
<p>Using samples for games is not a novel idea. In fact, for a long time, it was the <em>de facto</em> way to play sound and music on game consoles. As they didn’t have the processing power to do the mixing on the CPU, you could send audio clips (hence the term “sample”) to a special chip and tell it how and when to play them.</p>

<p>Since the audio chip was operating on its own, the sound would never lag nor glitch out if the game is lagging.</p>

<h3 id="reintroducing-samples-to-godot">(Re)introducing samples to Godot</h3>
<p>When open sourced, the Godot engine offered two ways to emit audio: streams for music and samples for sounds.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/sample-library.webp" alt="The long gone SampleLibrary resource and SamplePlayer2D node on Godot 2.1" /></p>

<p>But when Godot 3 released, it was decided that samples support was not needed anymore. Game consoles nowadays ask developers to mix themselves the samples using the CPU. And for the Web, we could mix the audio using a dedicated thread, like other platforms since <code class="language-plaintext highlighter-rouge">SharedArrayBuffer</code>s exist.</p>

<p>This is why there’s audio garbles in single-threaded builds (without my “fix”). Audio rendering is tied with the frame rate. And if it drops, there’s not enough audio frames to fill out the buffer, hence the glitches.</p>

<p>What <a href="https://github.com/godotengine/godot/pull/85939">my <abbr title="Pull Request">PR</abbr></a> does is to reinstate sample playback. At least at the time of writing, for the Web platform only.</p>

<h3 id="near-seamless-integration">Near seamless integration</h3>
<p>From the get-go, it was something that we ruled out: we couldn’t simply port how it was done in 2.1, we needed a more intuitive way.</p>

<p>Then, I hacked samples into stream. I more or less hijacked the streams API to insert samples support. Simple as that!</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/playback-type.webp" alt="AudioStreamPlayer playback type property" /></p>

<p><code class="language-plaintext highlighter-rouge">AudioStreamPlayer</code>, <code class="language-plaintext highlighter-rouge">AudioStreamPlayer2D</code>, and <code class="language-plaintext highlighter-rouge">AudioStreamPlayer3D</code> have a new “Playback Type” property which determines how these nodes will behave behind the scenes. You can choose between “Stream”, “Sample”, and “Default”.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/default-playback-type.webp" alt="Default playback type project settings" /></p>

<p>Fortunately, “Default” uses the new default project settings value <code class="language-plaintext highlighter-rouge">audio/general/default_playback_type</code>, so on the Web, the project will use “Sample” and the rest of the platforms will keep using “Stream”.</p>

<p>When an <code class="language-plaintext highlighter-rouge">AudioStreamPlayer</code> wants to play a sample, it will check if it’s registered first. If not, it will register it before playing it. Please note that not all samples can be registered, as only static ones can be (wav, ogg vorbis, mp3).</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/register-stream.webp" alt="A way to register samples: `AudioServer.register_stream_as_sample()`" /></p>

<p>On low-end devices, to make sure that they aren’t encountering lag spikes when registering samples just before playing them, I recommend to register them manually while loading the level. You just have to call the new API <code class="language-plaintext highlighter-rouge">AudioServer.register_stream_as_sample()</code>.</p>

<p>Other than these details, your game should pretty much work as is on the Web, without the pesky crackling noise. But under the hood, the audio is handled in a completely different way. Kinda weird, isn’t it?</p>

<h4 id="under-the-hood">Under the hood</h4>
<p>If the API stays pretty much the same, we cannot say the same thing about how <code class="language-plaintext highlighter-rouge">AudioStreamPlayer</code>s, <code class="language-plaintext highlighter-rouge">AudioServer</code>, and <code class="language-plaintext highlighter-rouge">AudioDriver</code> work internally.</p>

<p>Usually, everything is set in place to mix streams of audio by small chunks, determined by the audio latency in the project settings. If the audio latency setting is set at 15ms, Godot will make sure to keep filled a memory buffer worth of 15ms of audio.</p>

<p>To do that, each cycle, the <code class="language-plaintext highlighter-rouge">AudioServer</code> will go through each audio stream. If it’s active, it will mix the frames it needs to fill the buffer.</p>

<p><em>Inside Godot, <a href="https://docs.godotengine.org/en/4.2/tutorials/performance/using_servers.html">servers are what’s underneath most of the nodes</a>, logic-wise. The nodes explain what and how to do to the servers, which image to show, which sound to stop, which 3D model to load and where.</em></p>

<p>Now, if the audio stream is considered a “sample”, the <code class="language-plaintext highlighter-rouge">AudioServer</code> will ignore it in the mixing phase. But each time, a sample is played or paused, it must call the <code class="language-plaintext highlighter-rouge">AudioDriver</code> (here, the <code class="language-plaintext highlighter-rouge">AudioDriverWeb</code>) to tell it what happened.</p>

<h5 id="web-audio-node-chains">Web audio node chains</h5>
<p>If a sample is added, a Web Audio node chain representing a sample will be added. If an audio bus is removed, a Web Audio node chain representing an audio bus will be removed.</p>

<p>Doing this permits some sort of one-to-one connection between the <code class="language-plaintext highlighter-rouge">AudioServer</code> state and the Web audio API, which makes it possible to recreate somewhat accurately the mixing happening on the Godot side with streams.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/web-audio-schema.webp" alt="A screenshot of Catburglar Web Audio nodes." /></p>

<p>Here’s an image showing the Web audio nodes of the intro scene of <a href="https://johngabrieluk.itch.io/catburglar">Catburglar</a>, the open-source game featured on the cover. It is where all the samples are getting mixed.</p>

<p>From the right to the left of that image, you have the destination node (the audio output), then the master bus (represented by a chain of nodes). Plugged to the master bus are the rest of the audio buses determined by the project. All the buses have multiple <code class="language-plaintext highlighter-rouge">GainNode</code>s to handle actual gain, solo and mute.</p>

<p>Then, you see a sample chain, with its weird splitter and merger nodes. This is where the magic happens.</p>

<p>Each cycle, for mixing the streams, Godot calculates the volume of each audio channel. As Godot supports up to 7.1 surround (5.1 surround on the Web), it must know how loud to actually play the stream in the left and right speaker, the center one, the <abbr title="Low-frequency effects">LFE</abbr>, and so on. All according to the volume,
position, and orientation of the node.</p>

<p>So, to handle all of that on the Web Audio side, we send those values to each channel, and it just works.</p>

<h4 id="it-works-out-of-the-box">It works out-of-the-box</h4>
<p>You want proof that it works out-of-the-box? Here’s some projects that I just opened with my PR build and I exported them right away (using the single-threaded export option and using the (new) default project values).</p>

<table>
  <thead>
    <tr>
      <th>Game title</th>
      <th style="text-align: center">Single-threaded samples build</th>
      <th style="text-align: center">Project page</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Truck Town</td>
      <td style="text-align: center"><a href="https://adamscott.github.io/truck-town-main-thread-samples/" target="_blank">Play</a></td>
      <td style="text-align: center"><a href="https://github.com/godotengine/godot-demo-projects/tree/master/3d/truck_town" target="_blank">Link</a></td>
    </tr>
    <tr>
      <td>Platformer 2D</td>
      <td style="text-align: center"><a href="https://adamscott.github.io/2d-platformer-demo-main-thread-samples/" target="_blank">Play</a></td>
      <td style="text-align: center"><a href="https://github.com/godotengine/godot-demo-projects/tree/master/2d/platformer" target="_blank">Link</a></td>
    </tr>
    <tr>
      <td>Dodge the Creeps 2D</td>
      <td style="text-align: center"><a href="https://adamscott.github.io/2d-dodge-the-creeps-demo-main-thread-samples" target="_blank">Play</a></td>
      <td style="text-align: center"><a href="https://github.com/godotengine/godot-demo-projects/tree/master/2d/dodge_the_creeps" target="_blank">Link</a></td>
    </tr>
    <tr>
      <td>Platformer 3D</td>
      <td style="text-align: center"><a href="https://adamscott.github.io/3d-platformer-demo-main-thread-samples/" target="_blank">Play</a></td>
      <td style="text-align: center"><a href="https://github.com/godotengine/godot-demo-projects/tree/master/3d/platformer" target="_blank">Link</a></td>
    </tr>
    <tr>
      <td>Catburglar</td>
      <td style="text-align: center"><a href="https://adamscott.github.io/catburglar-main-thread-samples/" target="_blank">Play</a></td>
      <td style="text-align: center"><a href="https://johngabrieluk.itch.io/catburglar" target="_blank">Link</a></td>
    </tr>
  </tbody>
</table>

<p>Many thanks to the awesome <a href="https://johngabrieluk.itch.io/catburglar">Catburglar</a> team (John Gabriel, Jerico Landry, Kyveri, Sacha Feldman, and Carrie Drovdlic). Without this <a href="https://bitbucket.org/JohnGabrielUK/catburglar/">open-source project</a>, made for the <a href="https://itch.io/jam/godot-wild-jam-63">63rd</a> <a href="https://godotwildjam.com/">Godot Wild Jam</a>, I wouldn’t have solved as many bugs as I did. Please try it out! The audio work, in particular, sounds incredible.</p>

<h3 id="here-be-dragons">Here be dragons</h3>
<p>Even if the odds are that sample playback will be a part of Godot 4.3 release, it was developed very quickly, and even if it works pretty well, if you ask me, it still is pretty much a prototype. But we can’t just release Godot 4.3 without proper audio support for single-threaded releases.</p>

<p>So it has been decided that it should be treated as <em>experimental</em>. More work will be done before the release of Godot 4.4 in order to stabilize the API and how it works under the hood.</p>

<h3 id="call-to-action">Call to action</h3>
<p>But even before thinking about Godot 4.4, I must call for your help! We need people to test out <a href="https://github.com/godotengine/godot/pull/85939">the sample playback <abbr title="Pull Request">PR</abbr></a> until the release.</p>

<p>If you encounter any issue while testing my PR or while testing out the single-threaded samples builds, please report them <a href="https://github.com/godotengine/godot/pull/85939">here</a>.</p>

<p>Finally, if you still intend to continue using threads on the Web platform, you can! And the next feature should aid you setup your game online.</p>

<h2 id="easy-coop-coep-pwa-for-threaded-builds">Easy <abbr title="Cross-Origin-Opener-Policy">COOP</abbr>-<abbr title="Cross-Origin-Embedder-Policy">COEP</abbr> <abbr title="Progressive Web App">PWA</abbr> for threaded builds</h2>
<p>With this new feature, if you still need to export your game with thread support, you’ll are able to activate the necessary <abbr title="Cross-Origin-Opener-Policy">COOP</abbr>/<abbr title="Cross-Origin-Embedder-Policy">COEP</abbr> headers without having to modify the server’s header responses. You’ll need to export your game as a Progressive Web App though.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/ensure-cross-origin-isolation-headers.webp" alt="Ensure Cross-Origin Isolation Headers export option" /></p>

<p>This is because this export option sets up the Service Worker, included with the <abbr title="Progressive Web App">PWA</abbr> build, to intercept the requests from the server and inject those missing <abbr title="Cross-Origin-Opener-Policy">COOP</abbr>-<abbr title="Cross-Origin-Embedder-Policy">COEP</abbr> headers.</p>

<h2 id="boot-splash-screen">Boot splash screen</h2>
<p>Just before the beta feature freeze deadline, <a href="https://github.com/patwork">@patwork</a>, a new <a href="https://chat.godotengine.org/channel/web">#web</a> contributor,
included <a href="https://github.com/godotengine/godot/pull/91128">some neat features</a>:</p>

<p>He cleaned up the game page code and he updated the progress bar to use the semantic (and very useful) HTML <code class="language-plaintext highlighter-rouge">&lt;progress&gt;</code> tag.</p>

<p>But, mainly and from now on, he made the boot splash screen set in the project settings to be displayed on the screen while the engine and the assets are getting loaded by the browser.</p>

<p><img src="/storage/blog/progress-report-web-export-in-4-3/loading-screen.gif" alt="New Godot Web loading screen" /></p>

<p>If no boot splash screen has been set, the classic Godot boot splash will be seen, as it is currently displayed on other platforms.</p>

<h1 id="next-steps">Next steps</h1>
<p>Don’t worry, these changes only mark the beginning for the Godot Engine to truly offer game developers a great and reliable way to create Web games.</p>

<p>So work will be done to finalize and stabilize the samples playback for the Web. In the future, the node chain system should be powerful enough to support audio effects on buses, so we intend to work on this too.</p>

<p>Based on the feedback we received at the <abbr title="Game Developers Conference">GDC</abbr> from partners and friends, we know that we need a way to reduce the size of our exports. Currently, the 4.3 release Web build .wasm is around 40 MB uncompressed, and 5 MB compressed with Brotli. We have a few ideas in mind to address this, and it could even help optimize builds for other platforms!</p>

<p>If you know C/C++, you’re familiar with the Web APIs and you feel contributing, don’t hesitate to join our <a href="https://chat.godotengine.org/channel/web">#web team</a> on the
<a href="https://chat.godotengine.org">Godot Engine developers chat</a>.</p>

<h1 id="support">Support</h1>
<p>Godot is a non-profit, open source game engine developed by hundreds of contributors on their free time, as well as a handful of part or full-time developers hired thanks to <a href="https://fund.godotengine.org/">generous donations from the Godot community</a>.</p>

<p>A big thank you to everyone who has contributed <a href="https://github.com/godotengine/godot/blob/master/AUTHORS.md">their time</a> or <a href="https://github.com/godotengine/godot/blob/master/DONORS.md">their financial support</a> to the project!</p>

<p>If you’d like to support the project financially and help us secure our future hires, you can do so using the <a href="https://fund.godotengine.org/">Godot Development Fund</a> platform managed by the <a href="https://godot.foundation/">Godot Foundation</a>. There are also several <a href="/donate">alternative ways to donate</a> which you may find more suitable.</p>

			</div>
		</div>
	</article>
</div>

<link rel="stylesheet" href="/assets/css/anchor-link.css?1">
<link rel="stylesheet" href="/assets/css/article-cards.css?2">
<script src="/assets/js/anchor-link.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// Add icons to easily copy section links.
		window.applyAnchorLinks('.article-body');

		// Add lightbox elements in blog articles for Tobii.
		document.querySelectorAll('.article-cover img, .article-body img').forEach((articleImg) => {
			if (articleImg.classList.contains('lightbox-ignore')) {
				return;
			}

			const lightbox = document.createElement('a');
			lightbox.href = articleImg.src;
			lightbox.classList.add('lightbox');
			lightbox.dataset.group = 'article';
			articleImg.parentNode.appendChild(lightbox);
			lightbox.appendChild(articleImg);
		});
	});
</script>

</main>

<footer>
	<div class="container flex footer-container">
		<div id="copyright">
			<p>
				© 2007-2024 Juan Linietsky, Ariel Manzur and <a
					href="https://github.com/godotengine/godot/blob/master/AUTHORS.md" target="_blank"
					rel="noopener">contributors</a>.<br>
				Hosted by the <a href="https://godot.foundation/" target="_blank" rel="noopener">Godot Foundation</a>.<br>
				Website <a href="https://github.com/godotengine/godot-website" target="_blank" rel="noopener">source code on  GitHub</a>.
			</p>
		</div>
		<div id="sitemap">
			<ul class="sitemap-group">
				<li><strong>Get Godot</strong></li>
				<li><a href="/download/windows/" class="set-os-download-url">Download</a></li>
				<li><a href="/download/archive/">Release Archive</a></li>
				<li><a href="https://editor.godotengine.org/releases/latest/">Web Editor</a></li>
				<li>&nbsp;</li>
				<li><strong>Public Relations</strong></li>
				<li><a href="/blog/">Blog</a></li>
				<li><a href="/community/">Communities and Events</a></li>
				<li><a href="/press/">Press Kit</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>About Godot</strong></li>
				<li><a href="/features/">Features</a></li>
				<li><a href="/showcase/">Showcase</a></li>
				<li><a href="/education/">Education</a></li>
				<li><a href="/license/">License</a></li>
				<li><a href="/code-of-conduct/">Code of Conduct</a></li>
				<li><a href="/privacy-policy/">Privacy Policy</a></li>
				<li><a href="https://fund.godotengine.org">Donate</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>Project Team</strong></li>
				<li><a href="/governance/">Governance</a></li>
				<li><a href="/teams/">Teams</a></li>
				<li>&nbsp;</li>
				<li><strong>Extra Resources</strong></li>
				<li><a href="https://godotengine.org/asset-library/asset">Asset Library</a></li>
				<li><a href="https://docs.godotengine.org">Documentation</a></li>
				<li><a href="https://github.com/godotengine">Code Repository</a></li>
			</ul>
		</div>
		<div id="social" class="dark-desaturate">
			<h4 class="text-right"><a href="/contact/">Contact us</a></h4>
			<div class="flex justify-space-between" style="gap: 3px;">
				<a href="https://github.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/github_logo.svg" width="32" height="32" alt="GitHub">
				</a>
				<a href="https://mastodon.gamedev.place/@godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/mastodon_logo.svg" width="32" height="32" alt="Mastodon">
				</a>
				<a href="https://twitter.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/twitter_logo.svg" width="32" height="32" alt="Twitter">
				</a>
				<a href="https://www.facebook.com/groups/godotengine/" target="_blank" rel="noopener">
					<img src="/assets/footer/facebook_logo.svg" width="32" height="32" alt="Facebook">
				</a>
				<a href="https://www.reddit.com/r/godot" target="_blank" rel="noopener">
					<!-- Zero-width space in the `alt` text to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/reddit_logo.svg" width="32" height="32" alt="Red​dit">
				</a>
				<a href="/rss.xml" target="_blank" rel="noopener">
					<!-- Icon is called `feed` instead of `rss` to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/feed_logo.svg" width="32" height="32" alt="RSS feed">
				</a>
			</div>
		</div>
	</div>
</footer>

<script defer src="/assets/js/tobii.min.js"></script>
<script defer src="/assets/js/highlight.min.js?1"></script>
<script defer src="/assets/js/highlight.gdscript.min.js?1"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// This needs to be done on page load but also after page changes,
		// in case a code block appears in an article.
		document.querySelectorAll('pre code').forEach((block) => {
			hljs.highlightBlock(block);
		});

		document.querySelectorAll('[data-post-date]').forEach((postDate) => {
			// Highlight post dates that are less than 48 hours old.
			if (Date.parse(postDate.dataset.postDate) > (Date.now() - 1000 * 60 * 60 * 48)) {
				postDate.classList.add("post-recent-highlight");
			};
		});

		// Initialize lightbox.
		new Tobii({
			zoom: false,
		});

		// Update any download link to point to identified user's OS.
		const links = document.querySelectorAll('.set-os-download-url');
		for (let i = 0; i < links.length; i++) {
			const link = links[i];
			let link_slug = 'download';
			if ('version' in link.dataset && link.dataset['version'] === '3') {
				link_slug = 'download/3.x';
			}

			let link_platform = 'windows';
			if (navigator.platform.indexOf('Mac') !== -1) {
				link_platform = 'macos';
			} else if (navigator.platform.indexOf('Linux') !== -1) {
				link_platform = 'linux';
			}

			link.href = `/${link_slug}/${link_platform}/`;
		}
	});
</script>


</body>

</html>
