<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Godot Engine">
	<meta name="description" content="Currently, Godot is pretty comfortable for doing 2D cutout animation, with several games in development making use of this feature.
A very common request, though, was the ability to do custom mesh deformation based on the same bones used to animate separate parts. This would allow deforming such parts, for a more organic animation feel.">
	<meta name="theme-color" content="#3d8fcc">
	<meta property="og:site_name" content="Godot Engine">
	<meta property="og:url" content="https://godotengine.org/article/godot-gets-2d-skeletal-deform/">
	<meta name="twitter:site" content="@godotengine">

	<meta property="og:title" content="Godot gets 2D skeletal deform">
	<meta property="og:description" content="Currently, Godot is pretty comfortable for doing 2D cutout animation, with several games in development making use of this feature.
A very common request, though, was the ability to do custom mesh deformation based on the same bones used to animate separate parts. This would allow deforming such parts, for a more organic animation feel.">
	<meta property="og:image" content="https://godotengine.org/storage/app/uploads/public/5ae/c8f/8c1/5aec8f8c19c0b515935183.gif">
	<meta property="og:type" content="article">
	<meta name="twitter:card" content="summary_large_image">
	<title>Godot gets 2D skeletal deform</title>

	<link rel="alternate" type="application/rss+xml" title="Godot News" href="/rss.xml">
	<link rel="icon" href="/assets/favicon.png" sizes="any">
	<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
	<link rel="stylesheet" href="/assets/css/main.css?111">
	<link rel="stylesheet" href="/assets/css/tobii.min.css">
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-Bold.woff2" crossorigin>
	<link rel="preload" as="font" href="/assets/fonts/Montserrat-ExtraBold.woff2" crossorigin>
	<link rel="me" href="https://mastodon.gamedev.place/@godotengine">
</head>

<body>
	<input type="checkbox" id="nav_toggle_cb">
<header>
	<div class="container flex align-center">
		<div id="nav_head">
			<a href="/" id="logo-link">
				<img class="nav-logo" src="/assets/logo.svg" width="136" height="48" alt="Godot Engine">
				<img class="nav-logo dark-logo" src="/assets/logo_dark.svg" width="136" height="48" alt="Godot Engine">
			</a>
			<label for="nav_toggle_cb" id="nav_toggle_btn">
				<img src="/assets/icons/hamburger.svg" width="24" height="24" alt="Main menu">
			</label>
		</div>

		<nav id="nav">
			<ul class="left">
				<li><a href="/features">Features</a></li>
				<li class="only-on-mobile"><a href="/showcase">Showcase</a></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/community">Community</a></li>
				<li><a href="/contact">About</a></li>
				<li><a href="https://godotengine.org/asset-library/asset">Assets</a></li>
			</ul>

			<ul class="right">
				<li><a href="/download/windows" class="set-os-download-url">Download</a></li>
				<li><a href="https://docs.godotengine.org">Learn</a></li>
				<li><a href="https://docs.godotengine.org/en/stable/community/contributing/index.html">Contribute</a></li>
				
				<li class="fund"><a href="https://fund.godotengine.org">❤&#xFE0E; Donate</a></li>
			</ul>
		</nav>
	</div>
</header>

<main>


<style>
	body {
		background-color: var(--background-color);
	}

	h1 {
		margin-bottom: 8px;
		margin-top: 32px;
	}

	:not(pre)>code {
		background: var(--code-background-color);
		padding: 1px 4px;
		font-size: 0.95em;
		border-radius: 3px;
	}

	pre {
		background: var(--codeblock-background-color);
		color: var(--codeblock-color);
	}

	pre code {
		display: block;
		overflow-x: auto;
		padding: .5em;
	}

	.date-big {
		line-height: 2;
		margin-left: 32px;
	}

	article {
		background-color: var(--base-color);
		box-shadow: 0px 3px 2px 0px rgba(0, 0, 0, 0.15);
	}

	figure {
		margin: 0;
	}

	figure img {
		margin: 0;
	}

	article img,
	article video {
		max-width: 100%;
		height: auto;
		display: block;
		margin: auto;
		margin-top: 16px;
		margin-bottom: 16px;
	}

	article h1 {
		margin-top: 64px;
	}

	article h2,
	article h3,
	article h4 {
		margin-top: 42px;
	}

	.article-info {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.article-metadata {
		display: flex;
		gap: 24px;
		align-items: center;
		font-family: var(--header-font-family);
		margin-bottom: 12px;
	}

	@media (max-width: 900px) {
		.article-metadata {
			flex-direction: column;
			align-items: flex-start;
			gap: 16px;
		}
	}

	.article-author {
		color: var(--base-color-text-subtitle-date);
		font-weight: 700;
		font-size: 18px;
		flex-grow: 1;
		display: flex;
		gap: 12px;
		align-items: center;
	}

	.article-author .avatar {
		border-radius: 100%;
		margin: 0;
	}

	.article-author .by {
		color: var(--base-color-text-subtitle);
	}

	.article-metadata .date {
		color: var(--base-color-text-subtitle-date);
	}

	.article-metadata .date.post-recent-highlight {
		color: var(--post-recent-highlight-color);
		opacity: 0.8;
	}

	.article-metadata .date.post-recent-highlight::after {
		font-size: 80%;
		content: "NEW";
		border: 2px solid var(--post-recent-highlight-color);
		padding: 2px 3px;
		margin-left: 8px;
	}

	.tag.active {
		filter: saturate(0.75);
	}

	@media screen and (min-width: 900px) {
		article .content {
			width: 70%;
			margin: auto;
		}
	}

	@media (max-width: 900px) {
		body {
			background-color: var(--base-color);
		}

		article {
			background-color: transparent;
			box-shadow: none;
		}

		article img:first-child,
		article video:first-child {
			max-width: 100%;
		}
	}
</style>

<link rel="stylesheet" href="/assets/css/highlight.obsidian.min.css">

<div class="container">
	<article class="padded">
		<div class="content article-container">
			<figure class="article-cover">
				

				<img src="/storage/app/uploads/public/5ae/c8f/8c1/5aec8f8c19c0b515935183.gif" title=""
					alt=" " class="rounded-lg"
					style="width: 100%; height: auto; background-color: transparent;" />
			</figure>

			<div class="article-info">
				<h1>
					Godot gets 2D skeletal deform
				</h1>
				<div class="article-metadata">
					<div class="article-author">
						<span>By: </span>
						
						
							<img class="avatar" width="25" height="25" src="/assets/images/authors/reduzio.webp" alt="Juan Linietsky" loading="lazy">
						
						<span class="by">Juan Linietsky</span>
					</div>
					<span class="date" data-post-date="2018-05-04 00:00:00 +0000">  4 May 2018</span>
				</div>

				<div class="tags">
					
					<a href="/blog/progress-report">
						<div class="tag active">Progress Report</div>
					</a>
					
				</div>
			</div>

			



	<div class="card card-warning">
		<p>
		
			This article is from <strong>May 2018</strong>, some of its contents might be outdated and no longer accurate.<br>
			You can find up-to-date information about the engine in the <a href="https://docs.godotengine.org/en/stable/">official documentation</a>.
		
		</p>
	</div>





			<div class="article-body">
				<p>Currently, Godot is pretty comfortable for doing <a href="http://docs.godotengine.org/en/3.0/tutorials/animation/cutout_animation.html">2D cutout animation</a>, with several games in development making use of this feature.</p>

<p>A very common request, though, was the ability to do custom mesh deformation based on the same bones used to animate separate parts. This would allow deforming such parts, for a more organic animation feel.</p>

<p>This was recently added to GitHub head and, while overall 2D editing is a bit unstable right now (due to a massive reorganization of the 2D editor), it will be soon be possible to fully make use of this feature.</p>

<p>As always, please remember Godot is made out of love, so please consider <a href="https://www.patreon.com/godotengine">becoming our patron</a>!</p>

<h3 id="how-it-works">How it works</h3>

<p>Two new types of nodes were added: <strong>Skeleton2D</strong> and <strong>Bone2D</strong>. The former is the reference skeleton (much similar to the existing <strong>Skeleton</strong> node for 3D), while the later is actually used to build a bone hierarchy on top of it:</p>

<p><img src="/storage/app/media/skeleton2d/skeleton_image.png" alt="" /></p>

<p>For editing, the workflow is the same as cutout, bones are laid out in a tree then marked as visual bones for editing (they are not visible by default). This is a bit more of a hassle than with dedicated software, but fortunately the process is done only once.</p>

<p>Of course, compared to dedicated software, this workflow has the huge advantage that nodes are fully accessible within the engine, allowing to mix them up with particles, shaders, other nodes (i.e. swap a sword), and other visual effects built-in to Godot.</p>

<h3 id="using-with-meshinstance2d">Using with MeshInstance2D</h3>

<p>Although the recently added MeshInstance2D node now supports skeletal deforms, it can’t be created with such property within the editor.</p>

<p>This allows, however for the community to write importers for tools such as <a href="http://esotericsoftware.com/">Spine</a> or <a href="https://github.com/ndee85/coa_tools">CoaTools</a> that become actual Godot scenes instead of an opaque node.</p>

<h3 id="using-with-polygon2d">Using with Polygon2D</h3>

<p>The <strong>Polygon2D</strong> node has gained many new features to make working with skeletons easier. Here’s a short tutorial on how to use it:</p>

<p><strong>Note:</strong> This tutorial is already outdated, endpoints are no longer required and bone editing creates visible bones automatically now, thus making working with skeletons in Godot as easy as in any other software.</p>

<h5 id="1-draw-a-polygon-outline-around-the-image">1-Draw a polygon outline around the image:</h5>

<p>Normally for 2D animation, it’s still more convenient to split the object into parts and then use bones on specific parts of them (as they handle overlap better) so actual use of this feature will be more of an extension to the existing cutout workflow. Still, for brevity, this tutorial will show how to do it on a single object.</p>

<p>Create a <em>Polygon2D</em> node, then immediately assign an image to it (otherwise UV editing won’t open).</p>

<p><img src="/storage/app/media/skeleton2d/bonetut1.png" alt="" /></p>

<p>Open the UV editing window (again, without an image assigned, this won’t open)</p>

<p><img src="/storage/app/media/skeleton2d/bonetut2.png" alt="" /></p>

<p>Once open, go to the newly added <em>Polygon</em> section of he editor. Once there, click the <strong>+</strong> button to add points.</p>

<p><img src="/storage/app/media/skeleton2d/bonetut3.png" alt="" /></p>

<p>Draw a close polygon outline around the object:
<img src="/storage/app/media/skeleton2d/bonetut4.png" alt="" /></p>

<p>Finally, this will become your actual polygon when editing the scene:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut5.png" alt="" /></p>

<h5 id="2-create-a-skeleton-to-match-the-polygon">2-Create a skeleton to match the polygon</h5>

<p>Starting from a <strong>Skeleton2D</strong>, add a hierarchy of <strong>Bone2D</strong> nodes to match the desired skeleton. Remember that each <strong>Bone2D</strong> must be placed where the bone <em>Starts</em>. To have a reference where the hierearchy ends, just add a <strong>Position2D</strong> node at the end.</p>

<p><img src="/storage/app/media/skeleton2d/bonetut6.png" alt="" /></p>

<p>Once you have a chain of bones, you can make them visible in the Bone menu. Just select all bones (except the base, as this acts on a node towards the parent node), and create visual bones:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut7.png" alt="" /></p>

<p>They will now appear visually and can be manipulated more easily, including setting up IK chains:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut8.png" alt="" /></p>

<p>Repeat this process to have a full skeleton. For skeleton points where two bones emerge (as in, the base position for left and right shoulders), having them both in the same position is fine. In fact, in this example, base, left_hip and right_hip share the position and hierarchy level as 3 root bones.</p>

<p><img src="/storage/app/media/skeleton2d/bonetut9.png" alt="" /></p>

<p>Ok, skeleton is complete! You might have noticed that nodes are showing warnings. This is because they need a <em>rest</em> pose. This is the default reference pose for the skeleton, and it must exist before bones are animated (so Godot knows how to rotate or move the points based on how rotated the or moved the bones is).</p>

<p>Create the rest pose (once the skeleton is complete) by selecting the <strong>Skeleton2D</strong> node and the <em>Skeleton</em> menu:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut10.png" alt="" /></p>

<h5 id="3-create-splits-to-improve-triangulation">3-Create splits to improve triangulation</h5>

<p>As polygons are converted to triangles for drawing internally, this process may need some help in order to created less unexpected deformations. Select the <strong>Polygon2D</strong> node and enter the UV menu again. This time go to the <em>Splits</em> mode. From there, to the Add Split mode:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut11.png" alt="" /></p>

<p>Finally, connect sets of two points near bone unions, indicating that you dont want triangles to be generated across such splits:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut12.png" alt="" /></p>

<p>This process may demand some trial an error, as for complex polygons it may need to be re-adjusted a bit after the process is done.</p>

<h5 id="4-setup-polygon-for-painting">4-Setup polygon for painting</h5>

<p>Exit the UV editor and re-select the <strong>Polygon2D</strong> node. From there go to the <em>Skeleton</em> property. Assign the <strong>Skeleton2D</strong> node to it.</p>

<p><img src="/storage/app/media/skeleton2d/bonetut13.png" alt="" /></p>

<p>Go back to the UV editor and select the <em>Bones</em> section, and from there the <em>Paint</em> mode:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut14.png" alt="" /></p>

<p>While the skeleton is visible over the image now, the bones are still not available for painting.</p>

<p>The <strong>Polygon2D</strong> node needs to store bone painting information. To create this, push the <em>“Sync Bones to Polygon”</em> button. If you later add, remove or reparent nodes, you will need to push this button again. This will ensure that the minimum possible paint information is lost each time the skeleton hierarchy is modified.</p>

<p><img src="/storage/app/media/skeleton2d/bonetut15.png" alt="" /></p>

<h5 id="5-painting-bone-weights">5-Painting bone weights</h5>

<p>Everything is now ready for weight painting!! Now select bones fromt he list, and paint the area they affect. When a point is fully white, it’s fully affected by the bone. When black, it’s not affected at all.</p>

<p>A point may be affected by multiple bones. When this happens, the bone will try to satisfy both bones as best as possible, by averaging their influence. This makes deformation look <em>soft</em>.</p>

<p>Here are some examples on how weights are painted for different bones:</p>

<p><img src="/storage/app/media/skeleton2d/bonetut16.png" alt="" />
<img src="/storage/app/media/skeleton2d/bonetut17.png" alt="" />
<img src="/storage/app/media/skeleton2d/bonetut18.png" alt="" /></p>

<h5 id="6-animate">6-Animate!!</h5>

<p>Now have fun animating deformable polygons!</p>

<p><img src="/storage/app/media/skeleton2d/bonetut19.gif" alt="" /></p>

			</div>
		</div>
	</article>
</div>

<link rel="stylesheet" href="/assets/css/anchor-link.css?1">
<link rel="stylesheet" href="/assets/css/article-cards.css?2">
<script src="/assets/js/anchor-link.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// Add icons to easily copy section links.
		window.applyAnchorLinks('.article-body');

		// Add lightbox elements in blog articles for Tobii.
		document.querySelectorAll('.article-cover img, .article-body img').forEach((articleImg) => {
			if (articleImg.classList.contains('lightbox-ignore')) {
				return;
			}

			const lightbox = document.createElement('a');
			lightbox.href = articleImg.src;
			lightbox.classList.add('lightbox');
			lightbox.dataset.group = 'article';
			articleImg.parentNode.appendChild(lightbox);
			lightbox.appendChild(articleImg);
		});
	});
</script>

</main>

<footer>
	<div class="container flex footer-container">
		<div id="copyright">
			<p>
				© 2007-2024 Juan Linietsky, Ariel Manzur and <a
					href="https://github.com/godotengine/godot/blob/master/AUTHORS.md" target="_blank"
					rel="noopener">contributors</a>.<br>
				Hosted by the <a href="https://godot.foundation/" target="_blank" rel="noopener">Godot Foundation</a>.<br>
				Website <a href="https://github.com/godotengine/godot-website" target="_blank" rel="noopener">source code on  GitHub</a>.
			</p>
		</div>
		<div id="sitemap">
			<ul class="sitemap-group">
				<li><strong>Get Godot</strong></li>
				<li><a href="/download/windows" class="set-os-download-url">Download</a></li>
				<li><a href="https://editor.godotengine.org/releases/latest/">Web Editor</a></li>
				<li>&nbsp;</li>
				<li><strong>Public Relations</strong></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/community">Communities and Events</a></li>
				<li><a href="/press">Press Kit</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>About Godot</strong></li>
				<li><a href="/features">Features</a></li>
				<li><a href="/showcase">Showcase</a></li>
				<li><a href="/education">Education</a></li>
				<li><a href="/license">License</a></li>
				<li><a href="/code-of-conduct">Code of Conduct</a></li>
				<li><a href="/privacy-policy">Privacy Policy</a></li>
				<li><a href="https://fund.godotengine.org">Donate</a></li>
			</ul>
			<ul class="sitemap-group">
				<li><strong>Project Team</strong></li>
				<li><a href="/governance">Governance</a></li>
				<li><a href="/teams">Teams</a></li>
				<li>&nbsp;</li>
				<li><strong>Extra Resources</strong></li>
				<li><a href="/asset-library/asset">Asset Library</a></li>
				<li><a href="https://docs.godotengine.org">Documentation</a></li>
				<li><a href="https://github.com/godotengine">Code Repository</a></li>
			</ul>
		</div>
		<div id="social" class="dark-desaturate">
			<h4 class="text-right"><a href="/contact">Contact us</a></h4>
			<div class="flex justify-space-between" style="gap: 3px;">
				<a href="https://github.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/github_logo.svg" width="32" height="32" alt="GitHub">
				</a>
				<a href="https://mastodon.gamedev.place/@godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/mastodon_logo.svg" width="32" height="32" alt="Mastodon">
				</a>
				<a href="https://twitter.com/godotengine" target="_blank" rel="noopener">
					<img src="/assets/footer/twitter_logo.svg" width="32" height="32" alt="Twitter">
				</a>
				<a href="https://www.facebook.com/groups/godotengine/" target="_blank" rel="noopener">
					<img src="/assets/footer/facebook_logo.svg" width="32" height="32" alt="Facebook">
				</a>
				<a href="https://www.reddit.com/r/godot" target="_blank" rel="noopener">
					<!-- Zero-width space in the `alt` text to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/reddit_logo.svg" width="32" height="32" alt="Red​dit">
				</a>
				<a href="/rss.xml" target="_blank" rel="noopener">
					<!-- Icon is called `feed` instead of `rss` to prevent content blockers from blocking the icon -->
					<img src="/assets/footer/feed_logo.svg" width="32" height="32" alt="RSS feed">
				</a>
			</div>
		</div>
	</div>
</footer>

<script defer src="/assets/js/tobii.min.js"></script>
<script defer src="/assets/js/highlight.min.js?1"></script>
<script defer src="/assets/js/highlight.gdscript.min.js?1"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		// This needs to be done on page load but also after page changes,
		// in case a code block appears in an article.
		document.querySelectorAll('pre code').forEach((block) => {
			hljs.highlightBlock(block);
		});

		document.querySelectorAll('[data-post-date]').forEach((postDate) => {
			// Highlight post dates that are less than 48 hours old.
			if (Date.parse(postDate.dataset.postDate) > (Date.now() - 1000 * 60 * 60 * 48)) {
				postDate.classList.add("post-recent-highlight");
			};
		});

		// Initialize lightbox.
		new Tobii({
			zoom: false,
		});

		// Update any download link to point to identified user's OS.
		const links = document.querySelectorAll('.set-os-download-url');
		for (let i = 0; i < links.length; i++) {
			const link = links[i];
			let link_slug = 'download';
			if ('version' in link.dataset && link.dataset['version'] === '3') {
				link_slug = 'download/3.x';
			}

			let link_platform = 'windows';
			if (navigator.platform.indexOf('Mac') !== -1) {
				link_platform = 'macos';
			} else if (navigator.platform.indexOf('Linux') !== -1) {
				link_platform = 'linux';
			}

			link.href = `/${link_slug}/${link_platform}`;
		}
	});
</script>


</body>

</html>
